{"ast":null,"code":"import { isNullOrUndefined, addClass, extend, closest, updateBlazorTemplate, isBlazor } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren, alignFrozenEditForm, getMovableTbody, getFrozenRightTbody } from '../base/util';\n/**\n * Edit render module is used to render grid edit row.\n * @hidden\n */\n\nvar InlineEditRender =\n/** @class */\nfunction () {\n  /**\n   * Constructor for render module\n   */\n  function InlineEditRender(parent) {\n    this.parent = parent;\n  }\n\n  InlineEditRender.prototype.addNew = function (elements, args) {\n    this.isEdit = false;\n    var tbody;\n    var mTbody = getMovableTbody(this.parent);\n    var frTbody = getFrozenRightTbody(this.parent);\n\n    if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n      tbody = this.parent.getHeaderTable().querySelector('tbody');\n    } else {\n      tbody = this.parent.getContentTable().querySelector('tbody');\n    }\n\n    args.row = this.parent.createElement('tr', {\n      className: 'e-row e-addedrow'\n    });\n\n    if (tbody.querySelector('.e-emptyrow')) {\n      var emptyRow = tbody.querySelector('.e-emptyrow');\n      emptyRow.parentNode.removeChild(emptyRow);\n\n      if (this.parent.isFrozenGrid()) {\n        var moveTbody = this.parent.getContent().querySelector('.e-movablecontent').querySelector('tbody');\n        moveTbody.firstElementChild.parentNode.removeChild(moveTbody.firstElementChild);\n\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n          var frTbody_1 = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('tbody');\n          frTbody_1.firstElementChild.parentNode.removeChild(frTbody_1.firstElementChild);\n        }\n      }\n    }\n\n    this.parent.editSettings.newRowPosition === 'Top' ? tbody.insertBefore(args.row, tbody.firstChild) : tbody.appendChild(args.row);\n    args.row.appendChild(this.getEditElement(elements, false, undefined, args, true));\n    this.parent.editModule.checkLastRow(args.row, args);\n\n    if (this.parent.isFrozenGrid()) {\n      var mEle = this.renderMovableform(args.row, args);\n      this.parent.editSettings.newRowPosition === 'Top' ? mTbody.insertBefore(mEle, mTbody.firstChild) : mTbody.appendChild(mEle);\n      args.row.querySelector('.e-normaledit').setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n      mEle.setAttribute('colspan', '' + (this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns()));\n\n      if (frTbody) {\n        var frEle = this.renderFrozenRightForm(args.row, args);\n        this.parent.editSettings.newRowPosition === 'Top' ? frTbody.insertBefore(frEle, frTbody.firstChild) : frTbody.appendChild(frEle);\n        var colSpan = this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount();\n        args.row.querySelector('.e-normaledit').setAttribute('colspan', colSpan + '');\n        frEle.querySelector('.e-normaledit').setAttribute('colspan', '' + this.parent.getFrozenRightColumnsCount());\n      }\n\n      if (this.parent.height === 'auto') {\n        this.parent.notify(events.frozenHeight, {});\n      }\n    }\n  };\n\n  InlineEditRender.prototype.renderFrozenRightForm = function (ele, args) {\n    var frEle = ele.cloneNode(true);\n    var form = args.frozenRightForm = frEle.querySelector('form');\n\n    if (this.parent.editSettings.template) {\n      form.innerHTML = '';\n      this.appendChildren(form, args.rowData, false);\n      return frEle;\n    }\n\n    this.renderRightFrozen(ele, frEle);\n    frEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('colgroup').innerHTML;\n    return frEle;\n  };\n\n  InlineEditRender.prototype.renderMovableform = function (ele, args) {\n    var mEle = ele.cloneNode(true);\n    var form = args.movableForm = mEle.querySelector('form');\n\n    if (this.parent.editSettings.template) {\n      form.innerHTML = '';\n      this.appendChildren(form, args.rowData, false);\n      return mEle;\n    }\n\n    this.renderMovable(ele, mEle);\n    mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n    return mEle;\n  };\n\n  InlineEditRender.prototype.updateFreezeEdit = function (row, td) {\n    td = td.concat([].slice.call(this.getFreezeRow(row).querySelectorAll('td.e-rowcell')));\n\n    if (this.parent.getFrozenMode() === 'Left-Right') {\n      td = td.concat([].slice.call(this.getFreezeRightRow(row).querySelectorAll('td.e-rowcell')));\n    }\n\n    return td;\n  };\n\n  InlineEditRender.prototype.getFreezeRightRow = function (row) {\n    var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n    var fCont = this.parent.getFrozenLeftContentTbody();\n    var fHdr = this.parent.getFrozenHeaderTbody();\n    var frHdr = this.parent.getFrozenRightHeaderTbody();\n    var frCont = this.parent.getFrozenRightContentTbody();\n\n    if (fCont.contains(row) || fHdr.contains(row)) {\n      return this.parent.getFrozenRightRowByIndex(idx);\n    } else if (frCont.contains(row) || frHdr.contains(row)) {\n      return this.parent.getRowByIndex(idx);\n    }\n\n    return row;\n  };\n\n  InlineEditRender.prototype.getFreezeRow = function (row) {\n    if (this.parent.isFrozenGrid()) {\n      var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n      var fCont = this.parent.getFrozenLeftContentTbody();\n      var mCont = this.parent.getMovableContentTbody();\n      var fHdr = this.parent.getFrozenHeaderTbody();\n      var mHdr = this.parent.getMovableHeaderTbody();\n\n      if (fCont.contains(row) || fHdr.contains(row)) {\n        return this.parent.getMovableRowByIndex(idx);\n      } else if (mCont.contains(row) || mHdr.contains(row)) {\n        return this.parent.getRowByIndex(idx);\n      }\n    }\n\n    return row;\n  };\n\n  InlineEditRender.prototype.update = function (elements, args) {\n    this.isEdit = true;\n    var cloneRow = 'cloneRow';\n\n    if (closest(args.row, '.e-movablecontent') || closest(args.row, '.e-movableheader')) {\n      args.row = this.getFreezeRow(args.row);\n\n      if (isBlazor() && this.parent.isServerRendered) {\n        args[cloneRow] = args.row.cloneNode(true);\n      }\n    }\n\n    if (closest(args.row, '.e-frozen-right-content') || closest(args.row, '.e-frozen-right-header')) {\n      args.row = this.getFreezeRightRow(args.row);\n    }\n\n    if (isBlazor() && this.parent.isServerRendered) {\n      args.row.parentNode.insertBefore(args[cloneRow], args.row);\n      args.row.classList.add('e-hiddenrow');\n      var tdElement = [].slice.call(args[cloneRow].querySelectorAll('td.e-rowcell'));\n      args[cloneRow].innerHTML = '';\n      tdElement = this.updateFreezeEdit(args[cloneRow], tdElement);\n      args[cloneRow].appendChild(this.getEditElement(elements, true, tdElement, args, true));\n      args[cloneRow].classList.add('e-editedrow');\n      this.refreshFreezeEdit(args[cloneRow], args);\n    } else {\n      var tdElement = [].slice.call(args.row.querySelectorAll('td.e-rowcell'));\n      args.row.innerHTML = '';\n      tdElement = this.updateFreezeEdit(args.row, tdElement);\n      args.row.appendChild(this.getEditElement(elements, true, tdElement, args, true));\n      args.row.classList.add('e-editedrow');\n      this.parent.editModule.checkLastRow(args.row, args);\n      this.refreshFreezeEdit(args.row, args);\n    }\n  };\n\n  InlineEditRender.prototype.refreshFreezeEdit = function (row, args) {\n    var td = row.firstChild;\n    var fCls;\n    var cont;\n    var frozen = 'frozen';\n    var cloneFrozen = 'cloneFrozen';\n    var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n\n    if (this.parent.isFrozenGrid()) {\n      if (idx < this.parent.frozenRows) {\n        cont = this.parent.getHeaderContent();\n        fCls = '.e-frozenheader';\n      } else {\n        cont = this.parent.getContent();\n        fCls = '.e-frozencontent';\n      }\n\n      var mTd = td.cloneNode(true);\n      var frTd = td.cloneNode(true);\n      var form = args.movableForm = mTd.querySelector('form');\n\n      if (this.parent.editSettings.template) {\n        this.refreshEditForm(form, args.rowData);\n      }\n\n      var fRows = void 0;\n      var frRows = void 0;\n\n      if (cont.querySelector(fCls).contains(row)) {\n        fRows = this.parent.getMovableRowByIndex(idx);\n\n        if (isBlazor() && this.parent.isServerRendered) {\n          args[frozen] = fRows;\n          args[cloneFrozen] = fRows.cloneNode(true);\n          fRows.classList.add('e-hiddenrow');\n          fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n          this.updateFrozenCont(args[cloneFrozen], td, mTd);\n        } else {\n          this.updateFrozenCont(fRows, td, mTd);\n\n          if (this.parent.getFrozenMode() === 'Left-Right') {\n            args.frozenRightForm = frTd.querySelector('form');\n            this.refreshEditForm(args.frozenRightForm, args.rowData);\n            frRows = this.parent.getFrozenRightRowByIndex(idx);\n            this.updateFrozenRightCont(frRows, td, frTd);\n          }\n        }\n      } else {\n        fRows = this.parent.getRowByIndex(idx);\n\n        if (isBlazor() && this.parent.isServerRendered) {\n          args[frozen] = fRows;\n          args[cloneFrozen] = fRows.cloneNode(true);\n          fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n          fRows.classList.add('e-hiddenrow');\n          this.updateFrozenCont(args[cloneFrozen], mTd, td);\n        } else {\n          this.updateFrozenCont(fRows, mTd, td);\n\n          if (this.parent.getFrozenMode() === 'Left-Right') {\n            args.frozenRightForm = frTd.querySelector('form');\n            this.refreshEditForm(args.frozenRightForm, args.rowData);\n            frRows = this.parent.getFrozenRightRowByIndex(idx);\n            this.updateFrozenRightCont(frRows, frTd, td);\n          }\n        }\n      }\n\n      if (isBlazor() && this.parent.isServerRendered) {\n        args[cloneFrozen].appendChild(mTd);\n        args[cloneFrozen].classList.add('e-editedrow');\n      } else {\n        fRows.appendChild(mTd);\n        fRows.classList.add('e-editedrow');\n\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n          frRows.appendChild(frTd);\n          frRows.classList.add('e-editedrow');\n          alignFrozenEditForm(args.frozenRightForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n        }\n      }\n\n      alignFrozenEditForm(args.movableForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n    }\n  };\n\n  InlineEditRender.prototype.refreshEditForm = function (form, data) {\n    if (this.parent.editSettings.template) {\n      form.innerHTML = '';\n      this.appendChildren(form, data, false);\n    }\n  };\n\n  InlineEditRender.prototype.updateFrozenRightCont = function (row, ele, frEle) {\n    row.innerHTML = '';\n\n    if (!this.parent.editSettings.template) {\n      this.renderRightFrozen(ele, frEle);\n      frEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('colgroup').innerHTML;\n    }\n\n    ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount() + '');\n    frEle.setAttribute('colspan', this.parent.getFrozenRightColumnsCount() + '');\n  };\n\n  InlineEditRender.prototype.updateFrozenCont = function (row, ele, mEle) {\n    row.innerHTML = '';\n\n    if (!this.parent.editSettings.template) {\n      this.renderMovable(ele, mEle);\n      mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n    }\n\n    ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n    mEle.setAttribute('colspan', this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns() + '');\n  };\n\n  InlineEditRender.prototype.renderRightFrozen = function (ele, frEle) {\n    frEle.querySelector('tr').innerHTML = '';\n    var cols = this.parent.getColumns();\n    var k = 0;\n\n    for (var i = 0; i < cols.length; i++, k++) {\n      if (cols[i].getFreezeTableName() === 'frozen-right') {\n        var index = k - this.parent.getMovableColumnsCount();\n        frEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[index]));\n        k--;\n      }\n    }\n  };\n\n  InlineEditRender.prototype.renderMovable = function (ele, mEle) {\n    mEle.querySelector('tr').innerHTML = '';\n    var cols = this.parent.getColumns();\n    var k = 0;\n\n    for (var i = 0; i < cols.length; i++, k++) {\n      if (cols[i].getFreezeTableName() === 'movable') {\n        mEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[k]));\n        k--;\n      }\n    }\n  };\n\n  InlineEditRender.prototype.getEditElement = function (elements, isEdit, tdElement, args, isFrozen) {\n    var gObj = this.parent;\n    var gLen = 0;\n    var isDetail = !isNullOrUndefined(gObj.detailTemplate) || !isNullOrUndefined(gObj.childGrid) ? 1 : 0;\n\n    if (gObj.allowGrouping) {\n      gLen = gObj.groupSettings.columns.length;\n    }\n\n    var td = this.parent.createElement('td', {\n      className: 'e-editcell e-normaledit',\n      attrs: {\n        colspan: (gObj.getVisibleColumns().length - gObj.getVisibleFrozenColumns() + this.parent.getIndentCount()).toString()\n      }\n    });\n    var form = args.form = this.parent.createElement('form', {\n      id: gObj.element.id + 'EditForm',\n      className: 'e-gridform'\n    });\n\n    if (this.parent.editSettings.template) {\n      this.appendChildren(form, args.rowData, isFrozen);\n      td.appendChild(form);\n      return td;\n    }\n\n    var table = this.parent.createElement('table', {\n      className: 'e-table e-inline-edit',\n      attrs: {\n        cellspacing: '0.25'\n      }\n    });\n    table.appendChild(gObj.getContentTable().querySelector('colgroup').cloneNode(true));\n    var tbody = this.parent.createElement('tbody');\n    var tr = this.parent.createElement('tr');\n    var i = 0;\n\n    if (isDetail) {\n      tr.insertBefore(this.parent.createElement('td', {\n        className: 'e-detailrowcollapse'\n      }), tr.firstChild);\n    }\n\n    if (gObj.isRowDragable()) {\n      tr.appendChild(this.parent.createElement('td', {\n        className: 'e-dragindentcell'\n      }));\n    }\n\n    while (i < gLen) {\n      tr.appendChild(this.parent.createElement('td', {\n        className: 'e-indentcell'\n      }));\n      i++;\n    }\n\n    var m = 0;\n    i = 0;\n\n    while (isEdit && m < tdElement.length && i < gObj.getColumns().length || i < gObj.getColumns().length) {\n      var span = isEdit ? tdElement[m].getAttribute('colspan') : null;\n      var col = gObj.getColumns()[i];\n      var td_1 = this.parent.createElement('td', {\n        className: 'e-rowcell',\n        attrs: {\n          style: 'text-align:' + (col.textAlign ? col.textAlign : ''),\n          'colspan': span ? span : ''\n        }\n      });\n\n      if (col.visible) {\n        td_1.appendChild(elements[col.uid]);\n\n        if (col.editType === 'booleanedit') {\n          td_1.classList.add('e-boolcell');\n        } else if (col.commands || col.commandsTemplate) {\n          addClass([td_1], 'e-unboundcell');\n        }\n      } else {\n        td_1.classList.add('e-hide');\n      }\n\n      tr.appendChild(td_1);\n      i = span ? i + parseInt(span, 10) : i + 1;\n      m++;\n    }\n\n    tbody.appendChild(tr);\n    table.appendChild(tbody);\n    form.appendChild(table);\n    td.appendChild(form);\n    return td;\n  };\n\n  InlineEditRender.prototype.removeEventListener = function () {//To destroy the renderer\n  };\n\n  InlineEditRender.prototype.appendChildren = function (form, data, isFrozen) {\n    var _this = this;\n\n    var dummyData = extend({}, data, {\n      isAdd: !this.isEdit,\n      isFrozen: isFrozen\n    }, true);\n    var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n\n    if (this.parent.isReact && typeof this.parent.editSettings.template !== 'string') {\n      this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID, null, null, form);\n      this.parent.renderTemplates();\n    } else {\n      appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n    }\n\n    var setRules = function () {\n      var cols = _this.parent.getColumns();\n\n      for (var i = 0; i < cols.length; i++) {\n        if (cols[i].validationRules) {\n          _this.parent.editModule.formObj.rules[cols[i].field] = cols[i].validationRules;\n        }\n      }\n    };\n\n    updateBlazorTemplate(editTemplateID, 'Template', this.parent.editSettings, true, setRules);\n  };\n\n  return InlineEditRender;\n}();\n\nexport { InlineEditRender };","map":{"version":3,"sources":["C:/Users/appsk/Documents/Projects/PredictiveMaintenance/React PDM/env/frontend/node_modules/@syncfusion/ej2-grids/src/grid/renderer/inline-edit-renderer.js"],"names":["isNullOrUndefined","addClass","extend","closest","updateBlazorTemplate","isBlazor","events","appendChildren","alignFrozenEditForm","getMovableTbody","getFrozenRightTbody","InlineEditRender","parent","prototype","addNew","elements","args","isEdit","tbody","mTbody","frTbody","frozenRows","editSettings","newRowPosition","getHeaderTable","querySelector","getContentTable","row","createElement","className","emptyRow","parentNode","removeChild","isFrozenGrid","moveTbody","getContent","firstElementChild","getFrozenMode","frTbody_1","insertBefore","firstChild","appendChild","getEditElement","undefined","editModule","checkLastRow","mEle","renderMovableform","setAttribute","getVisibleFrozenColumns","getVisibleColumns","length","frEle","renderFrozenRightForm","colSpan","getFrozenRightColumnsCount","height","notify","frozenHeight","ele","cloneNode","form","frozenRightForm","template","innerHTML","rowData","renderRightFrozen","getHeaderContent","movableForm","renderMovable","updateFreezeEdit","td","concat","slice","call","getFreezeRow","querySelectorAll","getFreezeRightRow","idx","parseInt","getAttribute","fCont","getFrozenLeftContentTbody","fHdr","getFrozenHeaderTbody","frHdr","getFrozenRightHeaderTbody","frCont","getFrozenRightContentTbody","contains","getFrozenRightRowByIndex","getRowByIndex","mCont","getMovableContentTbody","mHdr","getMovableHeaderTbody","getMovableRowByIndex","update","cloneRow","isServerRendered","classList","add","tdElement","refreshFreezeEdit","fCls","cont","frozen","cloneFrozen","mTd","frTd","refreshEditForm","fRows","frRows","updateFrozenCont","updateFrozenRightCont","data","cols","getColumns","k","i","getFreezeTableName","index","getMovableColumnsCount","children","isFrozen","gObj","gLen","isDetail","detailTemplate","childGrid","allowGrouping","groupSettings","columns","attrs","colspan","getIndentCount","toString","id","element","table","cellspacing","tr","isRowDragable","m","span","col","td_1","style","textAlign","visible","uid","editType","commands","commandsTemplate","removeEventListener","_this","dummyData","isAdd","editTemplateID","isReact","getEditTemplate","renderTemplates","setRules","validationRules","formObj","rules","field"],"mappings":"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","sourcesContent":["import { isNullOrUndefined, addClass, extend, closest, updateBlazorTemplate, isBlazor } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren, alignFrozenEditForm, getMovableTbody, getFrozenRightTbody } from '../base/util';\n/**\n * Edit render module is used to render grid edit row.\n * @hidden\n */\nvar InlineEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     */\n    function InlineEditRender(parent) {\n        this.parent = parent;\n    }\n    InlineEditRender.prototype.addNew = function (elements, args) {\n        this.isEdit = false;\n        var tbody;\n        var mTbody = getMovableTbody(this.parent);\n        var frTbody = getFrozenRightTbody(this.parent);\n        if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n            tbody = this.parent.getHeaderTable().querySelector('tbody');\n        }\n        else {\n            tbody = this.parent.getContentTable().querySelector('tbody');\n        }\n        args.row = this.parent.createElement('tr', { className: 'e-row e-addedrow' });\n        if (tbody.querySelector('.e-emptyrow')) {\n            var emptyRow = tbody.querySelector('.e-emptyrow');\n            emptyRow.parentNode.removeChild(emptyRow);\n            if (this.parent.isFrozenGrid()) {\n                var moveTbody = this.parent.getContent().querySelector('.e-movablecontent').querySelector('tbody');\n                (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n                if (this.parent.getFrozenMode() === 'Left-Right') {\n                    var frTbody_1 = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('tbody');\n                    (frTbody_1.firstElementChild).parentNode.removeChild(frTbody_1.firstElementChild);\n                }\n            }\n        }\n        this.parent.editSettings.newRowPosition === 'Top' ? tbody.insertBefore(args.row, tbody.firstChild) : tbody.appendChild(args.row);\n        args.row.appendChild(this.getEditElement(elements, false, undefined, args, true));\n        this.parent.editModule.checkLastRow(args.row, args);\n        if (this.parent.isFrozenGrid()) {\n            var mEle = this.renderMovableform(args.row, args);\n            this.parent.editSettings.newRowPosition === 'Top' ? mTbody.insertBefore(mEle, mTbody.firstChild) : mTbody.appendChild(mEle);\n            args.row.querySelector('.e-normaledit').setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n            mEle.setAttribute('colspan', '' + (this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns()));\n            if (frTbody) {\n                var frEle = this.renderFrozenRightForm(args.row, args);\n                this.parent.editSettings.newRowPosition === 'Top' ? frTbody.insertBefore(frEle, frTbody.firstChild)\n                    : frTbody.appendChild(frEle);\n                var colSpan = this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount();\n                args.row.querySelector('.e-normaledit').setAttribute('colspan', colSpan + '');\n                frEle.querySelector('.e-normaledit').setAttribute('colspan', '' + this.parent.getFrozenRightColumnsCount());\n            }\n            if (this.parent.height === 'auto') {\n                this.parent.notify(events.frozenHeight, {});\n            }\n        }\n    };\n    InlineEditRender.prototype.renderFrozenRightForm = function (ele, args) {\n        var frEle = ele.cloneNode(true);\n        var form = args.frozenRightForm = frEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return frEle;\n        }\n        this.renderRightFrozen(ele, frEle);\n        frEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-frozen-right-header').querySelector('colgroup').innerHTML;\n        return frEle;\n    };\n    InlineEditRender.prototype.renderMovableform = function (ele, args) {\n        var mEle = ele.cloneNode(true);\n        var form = args.movableForm = mEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return mEle;\n        }\n        this.renderMovable(ele, mEle);\n        mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n        return mEle;\n    };\n    InlineEditRender.prototype.updateFreezeEdit = function (row, td) {\n        td = td.concat([].slice.call(this.getFreezeRow(row).querySelectorAll('td.e-rowcell')));\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n            td = td.concat([].slice.call(this.getFreezeRightRow(row).querySelectorAll('td.e-rowcell')));\n        }\n        return td;\n    };\n    InlineEditRender.prototype.getFreezeRightRow = function (row) {\n        var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n        var fCont = this.parent.getFrozenLeftContentTbody();\n        var fHdr = this.parent.getFrozenHeaderTbody();\n        var frHdr = this.parent.getFrozenRightHeaderTbody();\n        var frCont = this.parent.getFrozenRightContentTbody();\n        if (fCont.contains(row) || fHdr.contains(row)) {\n            return this.parent.getFrozenRightRowByIndex(idx);\n        }\n        else if (frCont.contains(row) || frHdr.contains(row)) {\n            return this.parent.getRowByIndex(idx);\n        }\n        return row;\n    };\n    InlineEditRender.prototype.getFreezeRow = function (row) {\n        if (this.parent.isFrozenGrid()) {\n            var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n            var fCont = this.parent.getFrozenLeftContentTbody();\n            var mCont = this.parent.getMovableContentTbody();\n            var fHdr = this.parent.getFrozenHeaderTbody();\n            var mHdr = this.parent.getMovableHeaderTbody();\n            if (fCont.contains(row) || fHdr.contains(row)) {\n                return this.parent.getMovableRowByIndex(idx);\n            }\n            else if (mCont.contains(row) || mHdr.contains(row)) {\n                return this.parent.getRowByIndex(idx);\n            }\n        }\n        return row;\n    };\n    InlineEditRender.prototype.update = function (elements, args) {\n        this.isEdit = true;\n        var cloneRow = 'cloneRow';\n        if (closest(args.row, '.e-movablecontent') || closest(args.row, '.e-movableheader')) {\n            args.row = this.getFreezeRow(args.row);\n            if (isBlazor() && this.parent.isServerRendered) {\n                args[cloneRow] = args.row.cloneNode(true);\n            }\n        }\n        if (closest(args.row, '.e-frozen-right-content') || closest(args.row, '.e-frozen-right-header')) {\n            args.row = this.getFreezeRightRow(args.row);\n        }\n        if (isBlazor() && this.parent.isServerRendered) {\n            args.row.parentNode.insertBefore(args[cloneRow], args.row);\n            args.row.classList.add('e-hiddenrow');\n            var tdElement = [].slice.call(args[cloneRow].querySelectorAll('td.e-rowcell'));\n            args[cloneRow].innerHTML = '';\n            tdElement = this.updateFreezeEdit(args[cloneRow], tdElement);\n            args[cloneRow].appendChild(this.getEditElement(elements, true, tdElement, args, true));\n            args[cloneRow].classList.add('e-editedrow');\n            this.refreshFreezeEdit(args[cloneRow], args);\n        }\n        else {\n            var tdElement = [].slice.call(args.row.querySelectorAll('td.e-rowcell'));\n            args.row.innerHTML = '';\n            tdElement = this.updateFreezeEdit(args.row, tdElement);\n            args.row.appendChild(this.getEditElement(elements, true, tdElement, args, true));\n            args.row.classList.add('e-editedrow');\n            this.parent.editModule.checkLastRow(args.row, args);\n            this.refreshFreezeEdit(args.row, args);\n        }\n    };\n    InlineEditRender.prototype.refreshFreezeEdit = function (row, args) {\n        var td = row.firstChild;\n        var fCls;\n        var cont;\n        var frozen = 'frozen';\n        var cloneFrozen = 'cloneFrozen';\n        var idx = parseInt(row.getAttribute('aria-rowindex'), 10);\n        if (this.parent.isFrozenGrid()) {\n            if (idx < this.parent.frozenRows) {\n                cont = this.parent.getHeaderContent();\n                fCls = '.e-frozenheader';\n            }\n            else {\n                cont = this.parent.getContent();\n                fCls = '.e-frozencontent';\n            }\n            var mTd = td.cloneNode(true);\n            var frTd = td.cloneNode(true);\n            var form = args.movableForm = mTd.querySelector('form');\n            if (this.parent.editSettings.template) {\n                this.refreshEditForm(form, args.rowData);\n            }\n            var fRows = void 0;\n            var frRows = void 0;\n            if (cont.querySelector(fCls).contains(row)) {\n                fRows = this.parent.getMovableRowByIndex(idx);\n                if (isBlazor() && this.parent.isServerRendered) {\n                    args[frozen] = fRows;\n                    args[cloneFrozen] = fRows.cloneNode(true);\n                    fRows.classList.add('e-hiddenrow');\n                    fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n                    this.updateFrozenCont(args[cloneFrozen], td, mTd);\n                }\n                else {\n                    this.updateFrozenCont(fRows, td, mTd);\n                    if (this.parent.getFrozenMode() === 'Left-Right') {\n                        args.frozenRightForm = frTd.querySelector('form');\n                        this.refreshEditForm(args.frozenRightForm, args.rowData);\n                        frRows = this.parent.getFrozenRightRowByIndex(idx);\n                        this.updateFrozenRightCont(frRows, td, frTd);\n                    }\n                }\n            }\n            else {\n                fRows = this.parent.getRowByIndex(idx);\n                if (isBlazor() && this.parent.isServerRendered) {\n                    args[frozen] = fRows;\n                    args[cloneFrozen] = fRows.cloneNode(true);\n                    fRows.parentNode.insertBefore(args[cloneFrozen], fRows);\n                    fRows.classList.add('e-hiddenrow');\n                    this.updateFrozenCont(args[cloneFrozen], mTd, td);\n                }\n                else {\n                    this.updateFrozenCont(fRows, mTd, td);\n                    if (this.parent.getFrozenMode() === 'Left-Right') {\n                        args.frozenRightForm = frTd.querySelector('form');\n                        this.refreshEditForm(args.frozenRightForm, args.rowData);\n                        frRows = this.parent.getFrozenRightRowByIndex(idx);\n                        this.updateFrozenRightCont(frRows, frTd, td);\n                    }\n                }\n            }\n            if (isBlazor() && this.parent.isServerRendered) {\n                args[cloneFrozen].appendChild(mTd);\n                args[cloneFrozen].classList.add('e-editedrow');\n            }\n            else {\n                fRows.appendChild(mTd);\n                fRows.classList.add('e-editedrow');\n                if (this.parent.getFrozenMode() === 'Left-Right') {\n                    frRows.appendChild(frTd);\n                    frRows.classList.add('e-editedrow');\n                    alignFrozenEditForm(args.frozenRightForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n                }\n            }\n            alignFrozenEditForm(args.movableForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n        }\n    };\n    InlineEditRender.prototype.refreshEditForm = function (form, data) {\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, data, false);\n        }\n    };\n    InlineEditRender.prototype.updateFrozenRightCont = function (row, ele, frEle) {\n        row.innerHTML = '';\n        if (!this.parent.editSettings.template) {\n            this.renderRightFrozen(ele, frEle);\n            frEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent()\n                .querySelector('.e-frozen-right-header').querySelector('colgroup').innerHTML;\n        }\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount() + '');\n        frEle.setAttribute('colspan', this.parent.getFrozenRightColumnsCount() + '');\n    };\n    InlineEditRender.prototype.updateFrozenCont = function (row, ele, mEle) {\n        row.innerHTML = '';\n        if (!this.parent.editSettings.template) {\n            this.renderMovable(ele, mEle);\n            mEle.querySelector('colgroup').innerHTML = this.parent.getHeaderContent()\n                .querySelector('.e-movableheader').querySelector('colgroup').innerHTML;\n        }\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n        mEle.setAttribute('colspan', this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns() + '');\n    };\n    InlineEditRender.prototype.renderRightFrozen = function (ele, frEle) {\n        frEle.querySelector('tr').innerHTML = '';\n        var cols = this.parent.getColumns();\n        var k = 0;\n        for (var i = 0; i < cols.length; i++, k++) {\n            if (cols[i].getFreezeTableName() === 'frozen-right') {\n                var index = k - this.parent.getMovableColumnsCount();\n                frEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[index]));\n                k--;\n            }\n        }\n    };\n    InlineEditRender.prototype.renderMovable = function (ele, mEle) {\n        mEle.querySelector('tr').innerHTML = '';\n        var cols = this.parent.getColumns();\n        var k = 0;\n        for (var i = 0; i < cols.length; i++, k++) {\n            if (cols[i].getFreezeTableName() === 'movable') {\n                mEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[k]));\n                k--;\n            }\n        }\n    };\n    InlineEditRender.prototype.getEditElement = function (elements, isEdit, tdElement, args, isFrozen) {\n        var gObj = this.parent;\n        var gLen = 0;\n        var isDetail = !isNullOrUndefined(gObj.detailTemplate) || !isNullOrUndefined(gObj.childGrid) ? 1 : 0;\n        if (gObj.allowGrouping) {\n            gLen = gObj.groupSettings.columns.length;\n        }\n        var td = this.parent.createElement('td', {\n            className: 'e-editcell e-normaledit',\n            attrs: { colspan: (gObj.getVisibleColumns().length - gObj.getVisibleFrozenColumns() + this.parent.getIndentCount()).toString() }\n        });\n        var form = args.form =\n            this.parent.createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        if (this.parent.editSettings.template) {\n            this.appendChildren(form, args.rowData, isFrozen);\n            td.appendChild(form);\n            return td;\n        }\n        var table = this.parent.createElement('table', { className: 'e-table e-inline-edit', attrs: { cellspacing: '0.25' } });\n        table.appendChild(gObj.getContentTable().querySelector('colgroup').cloneNode(true));\n        var tbody = this.parent.createElement('tbody');\n        var tr = this.parent.createElement('tr');\n        var i = 0;\n        if (isDetail) {\n            tr.insertBefore(this.parent.createElement('td', { className: 'e-detailrowcollapse' }), tr.firstChild);\n        }\n        if (gObj.isRowDragable()) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-dragindentcell' }));\n        }\n        while (i < gLen) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-indentcell' }));\n            i++;\n        }\n        var m = 0;\n        i = 0;\n        while ((isEdit && m < tdElement.length && i < gObj.getColumns().length) || i < gObj.getColumns().length) {\n            var span = isEdit ? tdElement[m].getAttribute('colspan') : null;\n            var col = gObj.getColumns()[i];\n            var td_1 = this.parent.createElement('td', {\n                className: 'e-rowcell', attrs: { style: 'text-align:' + (col.textAlign ? col.textAlign : ''), 'colspan': span ? span : '' }\n            });\n            if (col.visible) {\n                td_1.appendChild(elements[col.uid]);\n                if (col.editType === 'booleanedit') {\n                    td_1.classList.add('e-boolcell');\n                }\n                else if (col.commands || col.commandsTemplate) {\n                    addClass([td_1], 'e-unboundcell');\n                }\n            }\n            else {\n                td_1.classList.add('e-hide');\n            }\n            tr.appendChild(td_1);\n            i = span ? i + parseInt(span, 10) : i + 1;\n            m++;\n        }\n        tbody.appendChild(tr);\n        table.appendChild(tbody);\n        form.appendChild(table);\n        td.appendChild(form);\n        return td;\n    };\n    InlineEditRender.prototype.removeEventListener = function () {\n        //To destroy the renderer\n    };\n    InlineEditRender.prototype.appendChildren = function (form, data, isFrozen) {\n        var _this = this;\n        var dummyData = extend({}, data, { isAdd: !this.isEdit, isFrozen: isFrozen }, true);\n        var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n        if (this.parent.isReact && typeof (this.parent.editSettings.template) !== 'string') {\n            this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID, null, null, form);\n            this.parent.renderTemplates();\n        }\n        else {\n            appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n        }\n        var setRules = function () {\n            var cols = _this.parent.getColumns();\n            for (var i = 0; i < cols.length; i++) {\n                if (cols[i].validationRules) {\n                    _this.parent.editModule.formObj.rules[cols[i].field] =\n                        cols[i].validationRules;\n                }\n            }\n        };\n        updateBlazorTemplate(editTemplateID, 'Template', this.parent.editSettings, true, setRules);\n    };\n    return InlineEditRender;\n}());\nexport { InlineEditRender };\n"]},"metadata":{},"sourceType":"module"}