{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { remove, addClass, isNullOrUndefined, extend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport * as events from '../base/constant';\nimport { wrap, parentsUntil } from '../base/util';\nimport { Input } from '@syncfusion/ej2-inputs';\n/**\n * ColumnFreezeHeaderRenderer is used to freeze the columns header at right and left\n * @hidden\n */\n\nvar ColumnFreezeHeaderRenderer =\n/** @class */\nfunction (_super) {\n  __extends(ColumnFreezeHeaderRenderer, _super);\n\n  function ColumnFreezeHeaderRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.addEventListener();\n\n    return _this;\n  }\n\n  ColumnFreezeHeaderRenderer.prototype.addEventListener = function () {\n    this.parent.on(events.freezeRender, this.refreshFreeze, this);\n    this.parent.on(events.refreshFrozenColumns, this.refreshFrozenColumns, this);\n    this.parent.on(events.setReorderDestinationElement, this.setReorderElement, this);\n    this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.freezeRender, this.refreshFreeze);\n    this.parent.off(events.refreshFrozenColumns, this.refreshFrozenColumns);\n    this.parent.off(events.setReorderDestinationElement, this.setReorderElement);\n    this.parent.off(events.columnVisibilityChanged, this.setVisible);\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.setReorderElement = function (args) {\n    this.destEle = args.ele;\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.refreshFrozenColumns = function (args) {\n    if (!args.parent) {\n      this.parent.setProperties({\n        columns: args.columns\n      }, true);\n    }\n\n    var isFrozenLeft = parentsUntil(this.destEle, 'e-frozen-left-header');\n    var isFrozenRight = parentsUntil(this.destEle, 'e-frozen-right-header');\n    var left = this.parent.getFrozenLeftColumnsCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n    args.column.freeze = null;\n\n    if (isFrozenLeft) {\n      args.column.freeze = 'Left';\n    } else if (isFrozenRight) {\n      args.column.freeze = 'Right';\n    }\n\n    this.parent.setFrozenCount();\n    args.cancel = left !== this.parent.getFrozenLeftColumnsCount() || right !== this.parent.getFrozenRightColumnsCount();\n\n    if (args.cancel) {\n      this.parent.refreshColumns();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.setWrapHeight = function (fRows, mRows, isModeChg, isContReset, isStackedHdr, frRows) {\n    var fRowHgt;\n    var mRowHgt;\n    var frRowHgt;\n    var isWrap = this.parent.allowTextWrap;\n    var tBody = this.parent.getHeaderContent().querySelector('tbody');\n    var wrapMode = this.parent.textWrapSettings.wrapMode;\n    var tHead = this.parent.getHeaderContent().querySelector('thead');\n    var height = [];\n    var width = [];\n    var rightHeight = [];\n\n    for (var i = 0, len = fRows.length; i < len; i++) {\n      //separate loop for performance issue \n      if (!isNullOrUndefined(fRows[i]) && !isNullOrUndefined(mRows[i])) {\n        if (frRows) {\n          rightHeight[i] = frRows[i].getBoundingClientRect().height;\n        }\n\n        width[i] = mRows[i].getBoundingClientRect().height;\n        height[i] = fRows[i].getBoundingClientRect().height; //https://pagebuildersandwich.com/increased-plugins-performance-200/\n      }\n    }\n\n    for (var i = 0, len = fRows.length; i < len; i++) {\n      if (isModeChg && (wrapMode === 'Content' && tHead.contains(fRows[i]) || wrapMode === 'Header' && tBody.contains(fRows[i]) || wrapMode === 'Header' && isContReset) || isStackedHdr) {\n        if (frRows[i]) {\n          frRows[i].style.height = null;\n        }\n\n        fRows[i].style.height = null;\n        mRows[i].style.height = null;\n      }\n\n      fRowHgt = height[i];\n      mRowHgt = width[i];\n      frRowHgt = rightHeight[i] ? rightHeight[i] : 0;\n      var maxHeight = Math.max(fRowHgt, mRowHgt, frRowHgt);\n\n      if (!isNullOrUndefined(fRows[i]) && fRows[i].childElementCount && (isWrap && fRowHgt < maxHeight || !isWrap && fRowHgt < maxHeight || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === false)) {\n        fRows[i].style.height = maxHeight + 'px';\n      }\n\n      if (mRows && !isNullOrUndefined(mRows[i]) && mRows[i].childElementCount && (isWrap && maxHeight > mRowHgt || !isWrap && maxHeight > mRowHgt || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === true)) {\n        mRows[i].style.height = maxHeight + 'px';\n      }\n\n      if (frRows && !isNullOrUndefined(frRows[i]) && frRows[i].childElementCount && (isWrap && maxHeight > frRowHgt || !isWrap && maxHeight > frRowHgt || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === true)) {\n        frRows[i].style.height = maxHeight + 'px';\n      }\n    }\n\n    if (isWrap) {\n      this.setFrozenHeight();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.refreshHeight = function (obj) {\n    var isLeftRight = this.parent.getFrozenMode() === 'Left-Right';\n    var fRows;\n    var frRows;\n    var mRows;\n    var frHdr = this.getFrozenRightHeader();\n    var fHdr = this.parent.getHeaderContent().querySelector('.e-frozenheader');\n    var cont = this.parent.getContent();\n    var mHdr = this.getMovableHeader();\n    var hdrClassList = this.parent.getHeaderContent().querySelector('.e-headercontent').classList;\n    var wrapMode = this.parent.textWrapSettings.wrapMode;\n\n    if (obj.case === 'textwrap') {\n      if (wrapMode !== 'Header' || obj.isModeChg) {\n        if (isLeftRight) {\n          frRows = cont.querySelector('.e-frozen-right-content').querySelectorAll('tr');\n        }\n\n        mRows = cont.querySelector('.e-movablecontent').querySelectorAll('tr');\n        fRows = cont.querySelector('.e-frozencontent').querySelectorAll('tr');\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, true, false, frRows);\n      }\n\n      if (wrapMode === 'Content' && this.parent.allowTextWrap) {\n        hdrClassList.add('e-wrap');\n      } else {\n        hdrClassList.remove('e-wrap');\n      }\n\n      if (wrapMode === 'Both' || obj.isModeChg) {\n        if (isLeftRight) {\n          frRows = frHdr.querySelectorAll('tr');\n        }\n\n        fRows = fHdr.querySelectorAll('tr');\n        mRows = mHdr.querySelectorAll('tr');\n      } else {\n        if (isLeftRight) {\n          frRows = frHdr.querySelector(wrapMode === 'Content' ? 'tbody' : 'thead').querySelectorAll('tr');\n        }\n\n        fRows = fHdr.querySelector(wrapMode === 'Content' ? 'tbody' : 'thead').querySelectorAll('tr');\n        mRows = mHdr.querySelector(wrapMode === 'Content' ? 'tbody' : 'thead').querySelectorAll('tr');\n      }\n\n      if (!this.parent.getHeaderContent().querySelectorAll('.e-stackedheadercell').length) {\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, false, this.colDepth > 1, frRows);\n      }\n\n      this.refreshStackedHdrHgt();\n    } else if (obj.case === 'refreshHeight') {\n      mRows = cont.querySelector('.e-movablecontent').querySelectorAll('tr');\n      fRows = cont.querySelector('.e-frozencontent').querySelectorAll('tr');\n\n      if (isLeftRight) {\n        frRows = cont.querySelector('.e-frozen-right-content').querySelectorAll('tr');\n      }\n\n      this.setWrapHeight(fRows, mRows, obj.isModeChg, false, false, frRows);\n\n      if (!this.parent.getHeaderContent().querySelectorAll('.e-stackedheadercell').length) {\n        if (isLeftRight) {\n          frRows = frHdr.querySelectorAll('tr');\n        }\n\n        fRows = fHdr.querySelectorAll('tr');\n        mRows = mHdr.querySelectorAll('tr');\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, false, false, frRows);\n      }\n    }\n  };\n  /**\n   * Function to hide header table column based on visible property\n   * @param  {Column[]} columns?\n   */\n\n\n  ColumnFreezeHeaderRenderer.prototype.setVisible = function (columns) {\n    var gObj = this.parent;\n    var displayVal;\n    var idx;\n    var left = this.parent.getFrozenLeftColumnsCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n    var movable = this.parent.getMovableColumnsCount();\n\n    for (var c = 0, clen = columns.length; c < clen; c++) {\n      var column = columns[c];\n      idx = gObj.getNormalizedColumnIndex(column.uid);\n      displayVal = column.visible ? '' : 'none';\n\n      if (column.freeze === 'Left' || column.freeze === 'Right') {\n        if (left && !right) {\n          var leftColGrp = gObj.getHeaderContent().querySelector('.e-frozen-left-header').querySelector('colgroup');\n          setStyleAttribute(leftColGrp.children[idx], {\n            'display': displayVal\n          });\n        } else if (!left && right) {\n          var rightColGrp = gObj.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('colgroup');\n          setStyleAttribute(rightColGrp.children[idx - movable], {\n            'display': displayVal\n          });\n        }\n      } else {\n        var mTblColGrp = gObj.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup');\n        setStyleAttribute(mTblColGrp.children[idx - left], {\n          'display': displayVal\n        });\n      }\n    }\n\n    this.refreshUI();\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.filterRenderer = function (ele, frozenColumn, total) {\n    return _super.prototype.filterRenderer.call(this, ele, frozenColumn, total);\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.refreshUI = function () {\n    var frTbody;\n    var tbody = this.getMovableHeader().querySelector('tbody');\n    remove(this.getMovableHeader().querySelector('table'));\n\n    if (this.parent.getFrozenMode() === 'Left-Right') {\n      frTbody = this.getFrozenRightHeader().querySelector('tbody');\n      remove(this.getFrozenRightHeader().querySelector('table'));\n    }\n\n    _super.prototype.refreshFrozenLeftUI.call(this);\n\n    this.rfshMovable();\n    this.getMovableHeader().querySelector('tbody').innerHTML = tbody.innerHTML;\n\n    if (frTbody) {\n      this.getFrozenRightHeader().querySelector('tbody').innerHTML = frTbody.innerHTML;\n    }\n\n    this.updateColgroup();\n    this.widthService.setWidthToColumns();\n    this.parent.notify(events.colGroupRefresh, {});\n\n    if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n      wrap([].slice.call(this.getMovableHeader().querySelectorAll('tr.e-columnheader')), true);\n    }\n\n    this.parent.updateDefaultCursor();\n    var mTbl = this.parent.getContent().querySelector('.e-movablecontent').querySelector('.e-table');\n    remove(mTbl.querySelector('colgroup'));\n    var mColGroup = this.getMovableHeader().querySelector('colgroup').cloneNode(true);\n    mTbl.insertBefore(mColGroup, mTbl.querySelector('tbody'));\n\n    if (frTbody) {\n      var frtbl = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('.e-table');\n      remove(frtbl.querySelector('colgroup'));\n      var frtblColGroup = this.getFrozenRightHeader().querySelector('colgroup').cloneNode(true);\n      frtbl.insertBefore(frtblColGroup, frtbl.querySelector('tbody'));\n    }\n\n    this.widthService.refreshFrozenScrollbar();\n    this.initializeHeaderDrag();\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.refreshFreeze = function (obj) {\n    var left = this.parent.getFrozenLeftColumnsCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n    var movable = this.parent.getMovableColumnsCount();\n\n    if (obj.case === 'filter') {\n      var filterRow = this.getTable().querySelector('.e-filterbar');\n\n      if (this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector('thead')) {\n        var index = left ? left : 0;\n        var total = left ? left + movable : left + movable;\n        this.getMovableHeader().querySelector('thead').appendChild(this.filterRenderer(filterRow, index, total));\n\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n          var ele = [].slice.call(this.getMovableHeader().querySelectorAll('thead .e-filterbarcell .e-input'));\n          this.getFrozenRightHeader().querySelector('thead').appendChild(this.filterRenderer(filterRow, left, left + right));\n          this.adjudtFilterBarCell(ele);\n        }\n\n        var elements = [].slice.call(this.getMovableHeader().querySelectorAll('thead .e-filterbarcell .e-input'));\n        this.adjudtFilterBarCell(elements);\n      }\n    } else if (obj.case === 'textwrap' || obj.case === 'refreshHeight') {\n      this.refreshHeight(obj);\n      this.parent.contentModule.refreshScrollOffset();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.updateFrozenColGroup = function (cols, colGroup) {\n    if (cols && cols.visible === false) {\n      setStyleAttribute(colGroup, {\n        'display': 'none'\n      });\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.adjudtFilterBarCell = function (elements) {\n    for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n      var elem = elements_1[_i];\n      var args = {\n        element: elem,\n        floatLabelType: 'Never',\n        properties: {\n          enableRtl: this.parent.enableRtl,\n          showClearButton: true\n        }\n      };\n      Input.bindInitialEvent(args);\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.renderPanel = function () {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.renderPanel.call(this);\n\n      if (this.parent.getFrozenRightColumnsCount()) {\n        this.renderLeftWithRightFrozenPanel();\n      }\n    } else {\n      this.renderRightFrozenPanelAlone();\n    }\n\n    this.getPanel().firstChild.style.display = 'flex';\n    this.getMovableHeader().style.flex = '1';\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.renderTable = function () {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.renderTable.call(this);\n    } else {\n      this.renderFrozenRightTableAlone();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.rfshMovable = function () {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.rfshMovable.call(this);\n\n      if (this.parent.getFrozenRightColumnsCount()) {\n        var rows = this.rows;\n        this.getFrozenRightHeader().appendChild(this.createTable());\n        this.refreshStackedHdrHgt();\n        this.parent.notify(events.headerRefreshed, {\n          rows: this.rows,\n          args: {\n            renderFrozenRightContent: true\n          }\n        });\n        this.rows = rows;\n      }\n    } else {\n      this.getFrozenRightHeader().appendChild(this.getTable());\n      this.getMovableHeader().appendChild(this.createTable());\n      this.refreshStackedHdrHgt();\n      this.addMovableFirstCls();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.refreshStackedHdrHgt = function () {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.refreshStackedHdrHgt.call(this);\n\n      if (this.parent.getFrozenRightColumnsCount()) {\n        this.refreshFrozenRightStackedHdrHgt();\n      }\n    } else {\n      this.refreshFrozenRightStackedHdrHgt();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.refreshFrozenRightStackedHdrHgt = function () {\n    var fRowSpan;\n    var mRowSpan;\n    var frTr = this.getFrozenRightHeader().querySelectorAll('.e-columnheader');\n    var mTr = this.getMovableHeader().querySelectorAll('.e-columnheader');\n\n    for (var i = 0, len = frTr.length; i < len; i++) {\n      fRowSpan = this.getRowSpan(frTr[i]);\n      mRowSpan = this.getRowSpan(mTr[i]);\n\n      if (fRowSpan.min > 1) {\n        this.updateStackedHdrRowHgt(i, fRowSpan.max, frTr[i], mTr);\n      }\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeHeaderRenderer.prototype.updateColgroup = function () {\n    this.updateMovableColGroup();\n\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      this.updateFrozenLeftColGroup();\n    }\n\n    if (this.parent.getFrozenRightColumnsCount()) {\n      this.updateFrozenRightColGroup();\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.renderRightFrozenPanelAlone = function () {\n    var mDiv = this.parent.element.querySelector('.e-movableheader');\n    var fRightDiv = this.parent.element.querySelector('.e-frozen-right-header');\n\n    _super.prototype.renderFrozenRightPanel.call(this);\n\n    if (isNullOrUndefined(fRightDiv)) {\n      mDiv = this.parent.createElement('div', {\n        className: 'e-movableheader'\n      });\n      fRightDiv = this.parent.createElement('div', {\n        className: 'e-frozenheader e-frozen-right-header'\n      });\n      this.getPanel().querySelector('.e-headercontent').appendChild(mDiv);\n      this.getPanel().querySelector('.e-headercontent').appendChild(fRightDiv);\n    }\n\n    _super.prototype.setMovableHeader.call(this, mDiv);\n\n    this.setFrozenRightHeader(fRightDiv);\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.renderLeftWithRightFrozenPanel = function () {\n    var fRightDiv = this.parent.element.querySelector('.e-frozen-right-header');\n\n    _super.prototype.renderFrozenRightPanel.call(this);\n\n    if (isNullOrUndefined(fRightDiv)) {\n      fRightDiv = this.parent.createElement('div', {\n        className: 'e-frozenheader e-frozen-right-header'\n      });\n      this.getPanel().querySelector('.e-headercontent').appendChild(fRightDiv);\n    }\n\n    this.setFrozenRightHeader(fRightDiv);\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.renderFrozenRightTableAlone = function () {\n    _super.prototype.renderFrozenRightTable.call(this);\n\n    this.rfshMovable();\n    this.updateColgroup();\n    this.initializeHeaderDrag();\n    this.initializeHeaderDrop();\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.updateFrozenLeftColGroup = function () {\n    var leftColGroup = this.getFrozenHeader().querySelector('colgroup').children;\n    var start = this.parent.isRowDragable() ? 1 : 0;\n    var count = this.parent.isRowDragable() ? this.parent.getFrozenLeftColumnsCount() + 1 : this.parent.getFrozenLeftColumnsCount();\n\n    for (var i = start; i < leftColGroup.length; i++) {\n      if (i >= count) {\n        remove(leftColGroup[i]);\n        i--;\n      }\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.updateMovableColGroup = function () {\n    var movableColGroup = this.getMovableHeader().querySelector('colgroup').children;\n\n    if (this.parent.isRowDragable()) {\n      remove(movableColGroup[0]);\n    }\n\n    var length = movableColGroup.length;\n    var left = this.parent.getFrozenLeftColumnsCount();\n    var movable = this.parent.getMovableColumnsCount();\n    var k = 0;\n\n    for (var i = 0; i < length; i++, k++) {\n      if (i < left || i >= left + movable) {\n        remove(movableColGroup[k]);\n        k--;\n      }\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.updateFrozenRightColGroup = function () {\n    var isDraggable = this.parent.isRowDragable();\n    var rightColumns = this.parent.getFrozenRightColumns();\n    var rightColGroup = this.getFrozenRightHeader().querySelector('colgroup').children;\n\n    if (this.parent.getFrozenMode() === 'Left-Right' && isDraggable) {\n      remove(rightColGroup[0]);\n    }\n\n    var length = rightColGroup.length;\n    var left = this.parent.getFrozenLeftColumnsCount();\n    var movable = this.parent.getMovableColumnsCount();\n    var k = 0;\n\n    for (var i = 0; i < length; i++) {\n      if (i < left + movable) {\n        remove(rightColGroup[0]);\n      } else {\n        this.updateFrozenColGroup(rightColumns[k], rightColGroup[k]);\n        k++;\n      }\n    }\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.setFrozenRightHeader = function (ele) {\n    this.frozenRightHeader = ele;\n  };\n\n  ColumnFreezeHeaderRenderer.prototype.getFrozenRightHeader = function () {\n    return this.frozenRightHeader;\n  };\n\n  return ColumnFreezeHeaderRenderer;\n}(FreezeRender);\n\nexport { ColumnFreezeHeaderRenderer };\n/**\n * ColumnFreezeContentRenderer is used to freeze the columns content at right and left\n * @hidden\n */\n\nvar ColumnFreezeContentRenderer =\n/** @class */\nfunction (_super) {\n  __extends(ColumnFreezeContentRenderer, _super);\n\n  function ColumnFreezeContentRenderer(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.frzCount = 0;\n    _this.isColGroupRefresh = false;\n    _this.widthService = locator.getService('widthService');\n    return _this;\n  }\n\n  ColumnFreezeContentRenderer.prototype.renderPanel = function () {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.renderPanel.call(this);\n\n      if (this.parent.getFrozenRightColumnsCount()) {\n        this.renderFrozenLeftWithRightPanel();\n      }\n    } else {\n      this.renderFrozenRightPanelAlone();\n    }\n\n    var display = this.parent.enableVirtualization ? '' : 'flex';\n    this.getPanel().firstChild.style.display = display;\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderTable = function () {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.renderTable.call(this);\n\n      if (this.parent.getFrozenRightColumnsCount()) {\n        this.renderFrozenLeftWithRightTable();\n        var display = !this.parent.getVisibleFrozenRightCount() ? 'none' : '';\n        this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-right-scrollbar', display, true);\n      }\n    } else {\n      this.renderFrozenRightTableAlone();\n      var display = !this.parent.getVisibleFrozenRightCount() ? 'none' : '';\n      this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-right-scrollbar', display);\n    }\n\n    this.getMovableContent().style.flex = '1';\n  };\n\n  ColumnFreezeContentRenderer.prototype.appendScrollbar = function (frozen, movable, isRight) {\n    var parent = this.parent.createElement('div', {\n      className: 'e-scrollbar',\n      styles: 'display: flex'\n    });\n\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      if (!isRight) {\n        parent.appendChild(frozen);\n        parent.appendChild(movable);\n      } else {\n        this.parent.getContent().querySelector('.e-scrollbar').appendChild(frozen);\n        return;\n      }\n    } else {\n      parent.appendChild(movable);\n      parent.appendChild(frozen);\n    }\n\n    this.parent.getContent().appendChild(parent);\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderFrozenRightPanelAlone = function () {\n    this.renderFrozenRigthPanel();\n    var mDiv = this.parent.element.querySelector('.e-movablecontent');\n    var fRightContent = this.parent.element.querySelector('.e-frozen-right-content');\n\n    if (isNullOrUndefined(fRightContent)) {\n      mDiv = this.parent.createElement('div', {\n        className: 'e-movablecontent'\n      });\n      fRightContent = this.parent.createElement('div', {\n        className: 'e-frozencontent e-frozen-right-content'\n      });\n      this.getPanel().querySelector('.e-content').appendChild(mDiv);\n      this.getPanel().querySelector('.e-content').appendChild(fRightContent);\n    }\n\n    _super.prototype.setMovableContent.call(this, mDiv);\n\n    this.setFrozenRightContent(fRightContent);\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderFrozenLeftWithRightPanel = function () {\n    this.renderFrozenRigthPanel();\n    var fRightContent = this.parent.element.querySelector('.e-frozen-right-content');\n\n    if (isNullOrUndefined(fRightContent)) {\n      fRightContent = this.parent.createElement('div', {\n        className: 'e-frozencontent e-frozen-right-content'\n      });\n      this.getPanel().querySelector('.e-content').appendChild(fRightContent);\n    }\n\n    this.setFrozenRightContent(fRightContent);\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderFrozenRightTableAlone = function () {\n    var mTbl;\n\n    if (this.getFrozenRightContent().querySelector('.e-table') == null) {\n      _super.prototype.renderFrozenRightTable.call(this);\n\n      this.getFrozenRightContent().appendChild(this.getTable());\n      mTbl = this.getTable().cloneNode(true);\n      this.getMovableContent().appendChild(mTbl);\n    } else {\n      if (this.parent.frozenRows) {\n        this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n      }\n\n      this.setTable(this.getFrozenRightContent().querySelector('.e-table'));\n      this.setColGroup(this.getFrozenRightHeaderColGroup());\n      mTbl = this.getMovableContent().querySelector('.e-table');\n      this.getFrozenRightContent().querySelector('.e-table').appendChild(this.getColGroup());\n    }\n\n    if (this.getMovableContent().querySelector('colgroup')) {\n      remove(this.getMovableContent().querySelector('colgroup'));\n    }\n\n    var colgroup = this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup').cloneNode(true);\n    mTbl.insertBefore(colgroup, mTbl.querySelector('tbody'));\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderFrozenLeftWithRightTable = function () {\n    var frozenRight = this.getTable().cloneNode(true);\n    this.getFrozenRightContent().appendChild(frozenRight);\n    var oldColGroup = this.getFrozenRightContent().querySelector('colgroup');\n\n    if (oldColGroup) {\n      remove(oldColGroup);\n    }\n\n    var rightTable = this.getFrozenRightContent().querySelector('.e-table');\n    rightTable.insertBefore(this.getFrozenRightHeaderColGroup(), rightTable.querySelector('tbody'));\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderFrozenRightEmptyRowAlone = function (tbody) {\n    _super.prototype.renderFrozenRightEmpty.call(this, tbody);\n\n    this.getMovableContent().querySelector('tbody').innerHTML = '<tr><td></td></tr>';\n    addClass([this.parent.getMovableContentTbody().querySelector('tr')], ['e-emptyrow']);\n    this.getFrozenRightContent().querySelector('.e-emptyrow').querySelector('td').colSpan = this.parent.getFrozenRightColumnsCount();\n\n    if (this.parent.frozenRows) {\n      this.parent.getFrozenRightHeaderTbody().innerHTML = '';\n      this.parent.getMovableHeaderTbody().innerHTML = '';\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getFrozenHeader = function (tableName) {\n    if (tableName === 'frozen-left') {\n      return this.parent.getHeaderContent().querySelector('.e-frozen-left-header').querySelector('tbody');\n    } else if (tableName === 'movable') {\n      return this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('tbody');\n    } else {\n      return this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('tbody');\n    }\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderFrozenLeftWithRightEmptyRow = function () {\n    this.getFrozenRightContent().querySelector('tbody').innerHTML = '<tr><td></td></tr>';\n    addClass([this.getFrozenRightContent().querySelector('tbody').querySelector('tr')], ['e-emptyrow']);\n\n    if (this.parent.frozenRows) {\n      this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('tbody').innerHTML = '';\n    }\n  };\n\n  ColumnFreezeContentRenderer.prototype.setFrozenRightContent = function (ele) {\n    this.frozenRigthContent = ele;\n  };\n\n  ColumnFreezeContentRenderer.prototype.getFrozenRightContent = function () {\n    return this.frozenRigthContent;\n  };\n\n  ColumnFreezeContentRenderer.prototype.getHeaderColGroup = function () {\n    var colGroup = this.parent.element.querySelector('.e-gridheader').querySelector('colgroup').cloneNode(true);\n\n    if (!this.parent.getFrozenLeftColumnsCount()) {\n      var right = this.getFrozenRightHeaderColGroup();\n      colGroup = right && this.frzCount ? right.cloneNode(true) : colGroup;\n      this.frzCount++;\n      this.isColGroupRefresh = true;\n    }\n\n    return colGroup;\n  };\n\n  ColumnFreezeContentRenderer.prototype.getFrozenRightHeaderColGroup = function () {\n    var col = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('colgroup');\n\n    if (!col) {\n      col = this.parent.getHeaderContent().querySelector('colgroup');\n    }\n\n    return col.cloneNode(true);\n  };\n\n  ColumnFreezeContentRenderer.prototype.setColGroup = function (colGroup) {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      return _super.prototype.setColGroup.call(this, colGroup);\n    } else {\n      colGroup = !this.isColGroupRefresh ? this.getFrozenRightHeaderColGroup() : colGroup;\n\n      if (!isNullOrUndefined(colGroup)) {\n        colGroup.id = 'content-' + colGroup.id;\n      }\n\n      this.isColGroupRefresh = false;\n\n      if (this.frzCount === 2) {\n        this.frzCount = 0;\n      }\n\n      return this.colgroup = colGroup;\n    }\n  };\n\n  ColumnFreezeContentRenderer.prototype.renderEmpty = function (tbody) {\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      _super.prototype.renderEmpty.call(this, tbody);\n\n      if (this.parent.getFrozenRightColumnsCount()) {\n        this.renderFrozenLeftWithRightEmptyRow();\n      }\n    } else {\n      this.renderFrozenRightEmptyRowAlone(tbody);\n    }\n  };\n\n  ColumnFreezeContentRenderer.prototype.setHeightToContent = function (height) {\n    if (this.parent.getFrozenRightColumnsCount()) {\n      this.getFrozenRightContent().style.height = height.toString() + 'px';\n    }\n\n    if (this.parent.getFrozenLeftColumnsCount()) {\n      this.getFrozenContent().style.height = height.toString() + 'px';\n    }\n\n    this.getMovableContent().style.height = height.toString() + 'px';\n  };\n\n  ColumnFreezeContentRenderer.prototype.actionComplete = function (args) {\n    _super.prototype.actionComplete.call(this, args);\n  };\n\n  ColumnFreezeContentRenderer.prototype.batchAdd = function (args) {\n    _super.prototype.batchAdd.call(this, args);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getTbody = function (tableName) {\n    var tbody;\n\n    if (tableName === 'frozen-left') {\n      tbody = this.parent.getFrozenLeftContentTbody();\n    } else if (tableName === 'movable') {\n      tbody = this.parent.getMovableContentTbody();\n    } else if (tableName === 'frozen-right') {\n      tbody = this.parent.getFrozenRightContentTbody();\n    }\n\n    return tbody;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.setIsFrozen = function (args, tableName) {\n    args.isFrozen = tableName === 'frozen-left' || this.parent.getFrozenMode() === 'Right' && tableName === 'frozen-right';\n    args.renderFrozenRightContent = this.parent.getFrozenMode() === 'Left-Right' && tableName === 'frozen-right';\n    args.renderMovableContent = tableName === 'movable';\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.appendContent = function (tbody, frag, args, tableName) {\n    if (!isNullOrUndefined(this.parent.rowTemplate) && this.parent.isReact) {\n      tbody = frag;\n    } else {\n      tbody.appendChild(frag);\n    }\n\n    if (this.parent.getFrozenMode() === 'Left') {\n      if (tableName === 'frozen-left') {\n        this.isLoaded = false;\n        this.getFrozenContent().querySelector('table').appendChild(tbody);\n        this.refreshContentRows(extend({}, args));\n      } else {\n        this.refreshTbody(tbody);\n        this.isLoaded = true;\n        this.getMovableContent().querySelector('table').appendChild(tbody);\n        this.refreshHeight();\n        this.refreshScrollOffset();\n      }\n    } else if (this.parent.getFrozenMode() === 'Right') {\n      if (tableName === 'movable') {\n        this.refreshTbody(tbody);\n        this.isLoaded = true;\n        this.getMovableContent().querySelector('table').appendChild(tbody);\n        this.refreshHeight();\n        this.refreshScrollOffset();\n      } else {\n        this.isLoaded = false;\n        this.getFrozenRightContent().querySelector('table').appendChild(tbody);\n        this.refreshContentRows(extend({}, args));\n      }\n    } else if (this.parent.getFrozenMode() === 'Left-Right') {\n      if (tableName === 'frozen-left') {\n        this.isLoaded = false;\n        this.getFrozenContent().querySelector('table').appendChild(tbody);\n        this.refreshContentRows(extend({}, args));\n      } else if (tableName === 'movable') {\n        this.refreshTbody(tbody);\n        this.isLoaded = false;\n        this.getMovableContent().querySelector('table').appendChild(tbody);\n        this.refreshContentRows(extend({}, args));\n      } else {\n        this.isLoaded = true;\n        this.getFrozenRightContent().querySelector('table').appendChild(tbody);\n        this.refreshHeight();\n        this.refreshScrollOffset();\n      }\n    }\n\n    if (this.isInitialRender) {\n      this.parent.scrollModule.setHeight();\n      this.isInitialRender = false;\n    }\n\n    this.widthService.refreshFrozenScrollbar();\n  };\n\n  ColumnFreezeContentRenderer.prototype.refreshHeight = function () {\n    if (!this.parent.allowTextWrap) {\n      this.parent.notify(events.freezeRender, {\n        case: 'refreshHeight'\n      });\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.splitRows = function (tableName) {\n    var left = this.parent.getFrozenLeftColumnsCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n\n    if (left && !right) {\n      if (tableName === 'frozen-left') {\n        this.freezeRows = this.rows;\n        this.freezeRowElements = this.rowElements;\n      } else {\n        this.movableRows = this.rows;\n      }\n    } else if (!left && right) {\n      if (tableName === 'movable') {\n        this.movableRows = this.rows;\n      } else {\n        this.freezeRows = this.rows;\n        this.freezeRowElements = this.rowElements;\n      }\n    } else if (left && right) {\n      if (tableName === 'frozen-left') {\n        this.freezeRows = this.rows;\n        this.freezeRowElements = this.rowElements;\n      } else if (tableName === 'movable') {\n        this.movableRows = this.rows;\n        this.movableRowElements = this.rowElements;\n      } else {\n        this.frozenRightRows = this.rows;\n        this.frozenRightRowElements = this.rowElements;\n      }\n    }\n  };\n  /**\n   * Get the Freeze pane movable content table data row elements\n   * @return {Element}\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getMovableRowElements = function () {\n    if (this.parent.getTablesCount() === 2) {\n      return this.rowElements;\n    } else {\n      return this.movableRowElements;\n    }\n  };\n  /**\n   * Get the Freeze pane frozen right content table data row elements\n   * @return {Element}\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getFrozenRightRowElements = function () {\n    if (this.parent.getTablesCount() === 2) {\n      return this.freezeRowElements;\n    } else {\n      return this.frozenRightRowElements;\n    }\n  };\n  /**\n   * Get the frozen right row collection in the Freeze pane Grid.\n   * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>}\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getFrozenRightRows = function () {\n    if (this.parent.getFrozenMode() === 'Left-Right') {\n      if (this.parent.enableInfiniteScrolling) {\n        return this.rightFreezeRows;\n      }\n\n      return this.frozenRightRows;\n    } else {\n      return this.getRows();\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getFrozenRightRowByIndex = function (index) {\n    return this.parent.getFrozenRightDataRows()[index];\n  };\n  /**\n   * Get the Row collection in the Grid.\n   * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>}\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getRows = function () {\n    var infiniteRows = this.getInfiniteRows();\n    return infiniteRows.length ? infiniteRows : this.freezeRows;\n  };\n  /**\n   * Get the content table data row elements\n   * @return {Element}\n   */\n\n\n  ColumnFreezeContentRenderer.prototype.getRowElements = function () {\n    return this.freezeRowElements;\n  };\n\n  return ColumnFreezeContentRenderer;\n}(FreezeContentRender);\n\nexport { ColumnFreezeContentRenderer };","map":{"version":3,"sources":["C:/Users/appsk/Documents/Projects/PredictiveMaintenance/React PDM/env/frontend/node_modules/@syncfusion/ej2-grids/src/grid/renderer/column-freeze-renderer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","remove","addClass","isNullOrUndefined","extend","setStyleAttribute","FreezeContentRender","FreezeRender","events","wrap","parentsUntil","Input","ColumnFreezeHeaderRenderer","_super","parent","locator","_this","call","addEventListener","on","freezeRender","refreshFreeze","refreshFrozenColumns","setReorderDestinationElement","setReorderElement","columnVisibilityChanged","setVisible","removeEventListener","isDestroyed","off","args","destEle","ele","setProperties","columns","isFrozenLeft","isFrozenRight","left","getFrozenLeftColumnsCount","right","getFrozenRightColumnsCount","column","freeze","setFrozenCount","cancel","refreshColumns","setWrapHeight","fRows","mRows","isModeChg","isContReset","isStackedHdr","frRows","fRowHgt","mRowHgt","frRowHgt","isWrap","allowTextWrap","tBody","getHeaderContent","querySelector","wrapMode","textWrapSettings","tHead","height","width","rightHeight","i","len","length","getBoundingClientRect","contains","style","maxHeight","Math","max","childElementCount","allowResizing","resizeModule","isFrozenColResized","setFrozenHeight","refreshHeight","obj","isLeftRight","getFrozenMode","frHdr","getFrozenRightHeader","fHdr","cont","getContent","mHdr","getMovableHeader","hdrClassList","classList","case","querySelectorAll","add","colDepth","refreshStackedHdrHgt","gObj","displayVal","idx","movable","getMovableColumnsCount","c","clen","getNormalizedColumnIndex","uid","visible","leftColGrp","children","rightColGrp","mTblColGrp","refreshUI","filterRenderer","frozenColumn","total","frTbody","tbody","refreshFrozenLeftUI","rfshMovable","innerHTML","updateColgroup","widthService","setWidthToColumns","notify","colGroupRefresh","slice","updateDefaultCursor","mTbl","mColGroup","cloneNode","insertBefore","frtbl","frtblColGroup","refreshFrozenScrollbar","initializeHeaderDrag","headerRefreshed","rows","isFrozen","filterRow","getTable","allowFiltering","index","appendChild","adjudtFilterBarCell","elements","contentModule","refreshScrollOffset","updateFrozenColGroup","cols","colGroup","_i","elements_1","elem","element","floatLabelType","properties","enableRtl","showClearButton","bindInitialEvent","renderPanel","renderLeftWithRightFrozenPanel","renderRightFrozenPanelAlone","getPanel","firstChild","display","flex","renderTable","renderFrozenRightTableAlone","createTable","renderFrozenRightContent","addMovableFirstCls","refreshFrozenRightStackedHdrHgt","fRowSpan","mRowSpan","frTr","mTr","getRowSpan","min","updateStackedHdrRowHgt","updateMovableColGroup","updateFrozenLeftColGroup","updateFrozenRightColGroup","mDiv","fRightDiv","renderFrozenRightPanel","createElement","className","setMovableHeader","setFrozenRightHeader","renderFrozenRightTable","initializeHeaderDrop","leftColGroup","getFrozenHeader","start","isRowDragable","count","movableColGroup","k","isDraggable","rightColumns","getFrozenRightColumns","rightColGroup","frozenRightHeader","ColumnFreezeContentRenderer","frzCount","isColGroupRefresh","getService","renderFrozenLeftWithRightPanel","renderFrozenRightPanelAlone","enableVirtualization","renderFrozenLeftWithRightTable","getVisibleFrozenRightCount","renderHorizontalScrollbar","getMovableContent","appendScrollbar","frozen","isRight","styles","renderFrozenRigthPanel","fRightContent","setMovableContent","setFrozenRightContent","getFrozenRightContent","frozenRows","setTable","setColGroup","getFrozenRightHeaderColGroup","getColGroup","colgroup","frozenRight","oldColGroup","rightTable","renderFrozenRightEmptyRowAlone","renderFrozenRightEmpty","getMovableContentTbody","colSpan","getFrozenRightHeaderTbody","getMovableHeaderTbody","tableName","renderFrozenLeftWithRightEmptyRow","frozenRigthContent","getHeaderColGroup","col","id","renderEmpty","setHeightToContent","toString","getFrozenContent","actionComplete","batchAdd","getTbody","getFrozenLeftContentTbody","getFrozenRightContentTbody","setIsFrozen","renderMovableContent","appendContent","frag","rowTemplate","isReact","isLoaded","refreshContentRows","refreshTbody","isInitialRender","scrollModule","setHeight","splitRows","freezeRows","freezeRowElements","rowElements","movableRows","movableRowElements","frozenRightRows","frozenRightRowElements","getMovableRowElements","getTablesCount","getFrozenRightRowElements","getFrozenRightRows","enableInfiniteScrolling","rightFreezeRows","getRows","getFrozenRightRowByIndex","getFrozenRightDataRows","infiniteRows","getInfiniteRows","getRowElements"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, addClass, isNullOrUndefined, extend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { FreezeContentRender, FreezeRender } from './freeze-renderer';\nimport * as events from '../base/constant';\nimport { wrap, parentsUntil } from '../base/util';\nimport { Input } from '@syncfusion/ej2-inputs';\n/**\n * ColumnFreezeHeaderRenderer is used to freeze the columns header at right and left\n * @hidden\n */\nvar ColumnFreezeHeaderRenderer = /** @class */ (function (_super) {\n    __extends(ColumnFreezeHeaderRenderer, _super);\n    function ColumnFreezeHeaderRenderer(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    ColumnFreezeHeaderRenderer.prototype.addEventListener = function () {\n        this.parent.on(events.freezeRender, this.refreshFreeze, this);\n        this.parent.on(events.refreshFrozenColumns, this.refreshFrozenColumns, this);\n        this.parent.on(events.setReorderDestinationElement, this.setReorderElement, this);\n        this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n    };\n    ColumnFreezeHeaderRenderer.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.freezeRender, this.refreshFreeze);\n        this.parent.off(events.refreshFrozenColumns, this.refreshFrozenColumns);\n        this.parent.off(events.setReorderDestinationElement, this.setReorderElement);\n        this.parent.off(events.columnVisibilityChanged, this.setVisible);\n    };\n    ColumnFreezeHeaderRenderer.prototype.setReorderElement = function (args) {\n        this.destEle = args.ele;\n    };\n    ColumnFreezeHeaderRenderer.prototype.refreshFrozenColumns = function (args) {\n        if (!args.parent) {\n            this.parent.setProperties({ columns: args.columns }, true);\n        }\n        var isFrozenLeft = parentsUntil(this.destEle, 'e-frozen-left-header');\n        var isFrozenRight = parentsUntil(this.destEle, 'e-frozen-right-header');\n        var left = this.parent.getFrozenLeftColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        args.column.freeze = null;\n        if (isFrozenLeft) {\n            args.column.freeze = 'Left';\n        }\n        else if (isFrozenRight) {\n            args.column.freeze = 'Right';\n        }\n        this.parent.setFrozenCount();\n        args.cancel = left !== this.parent.getFrozenLeftColumnsCount() || right !== this.parent.getFrozenRightColumnsCount();\n        if (args.cancel) {\n            this.parent.refreshColumns();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.setWrapHeight = function (fRows, mRows, isModeChg, isContReset, isStackedHdr, frRows) {\n        var fRowHgt;\n        var mRowHgt;\n        var frRowHgt;\n        var isWrap = this.parent.allowTextWrap;\n        var tBody = this.parent.getHeaderContent().querySelector('tbody');\n        var wrapMode = this.parent.textWrapSettings.wrapMode;\n        var tHead = this.parent.getHeaderContent().querySelector('thead');\n        var height = [];\n        var width = [];\n        var rightHeight = [];\n        for (var i = 0, len = fRows.length; i < len; i++) { //separate loop for performance issue \n            if (!isNullOrUndefined(fRows[i]) && !isNullOrUndefined(mRows[i])) {\n                if (frRows) {\n                    rightHeight[i] = frRows[i].getBoundingClientRect().height;\n                }\n                width[i] = mRows[i].getBoundingClientRect().height;\n                height[i] = fRows[i].getBoundingClientRect().height; //https://pagebuildersandwich.com/increased-plugins-performance-200/\n            }\n        }\n        for (var i = 0, len = fRows.length; i < len; i++) {\n            if (isModeChg && (((wrapMode === 'Content' && tHead.contains(fRows[i]))\n                || (wrapMode === 'Header' && tBody.contains(fRows[i]))) || (wrapMode === 'Header' && isContReset)) || isStackedHdr) {\n                if (frRows[i]) {\n                    frRows[i].style.height = null;\n                }\n                fRows[i].style.height = null;\n                mRows[i].style.height = null;\n            }\n            fRowHgt = height[i];\n            mRowHgt = width[i];\n            frRowHgt = rightHeight[i] ? rightHeight[i] : 0;\n            var maxHeight = Math.max(fRowHgt, mRowHgt, frRowHgt);\n            if (!isNullOrUndefined(fRows[i]) && fRows[i].childElementCount && ((isWrap && fRowHgt < maxHeight) ||\n                (!isWrap && fRowHgt < maxHeight) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === false))) {\n                fRows[i].style.height = maxHeight + 'px';\n            }\n            if (mRows && !isNullOrUndefined(mRows[i]) && mRows[i].childElementCount && ((isWrap && maxHeight > mRowHgt) ||\n                (!isWrap && maxHeight > mRowHgt) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === true))) {\n                mRows[i].style.height = maxHeight + 'px';\n            }\n            if (frRows && !isNullOrUndefined(frRows[i]) && frRows[i].childElementCount && ((isWrap && maxHeight > frRowHgt) ||\n                (!isWrap && maxHeight > frRowHgt) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === true))) {\n                frRows[i].style.height = maxHeight + 'px';\n            }\n        }\n        if (isWrap) {\n            this.setFrozenHeight();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.refreshHeight = function (obj) {\n        var isLeftRight = this.parent.getFrozenMode() === 'Left-Right';\n        var fRows;\n        var frRows;\n        var mRows;\n        var frHdr = this.getFrozenRightHeader();\n        var fHdr = this.parent.getHeaderContent().querySelector('.e-frozenheader');\n        var cont = this.parent.getContent();\n        var mHdr = this.getMovableHeader();\n        var hdrClassList = this.parent.getHeaderContent().querySelector('.e-headercontent').classList;\n        var wrapMode = this.parent.textWrapSettings.wrapMode;\n        if (obj.case === 'textwrap') {\n            if (wrapMode !== 'Header' || obj.isModeChg) {\n                if (isLeftRight) {\n                    frRows = cont.querySelector('.e-frozen-right-content').querySelectorAll('tr');\n                }\n                mRows = cont.querySelector('.e-movablecontent').querySelectorAll('tr');\n                fRows = cont.querySelector('.e-frozencontent').querySelectorAll('tr');\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, true, false, frRows);\n            }\n            if (wrapMode === 'Content' && this.parent.allowTextWrap) {\n                hdrClassList.add('e-wrap');\n            }\n            else {\n                hdrClassList.remove('e-wrap');\n            }\n            if (wrapMode === 'Both' || obj.isModeChg) {\n                if (isLeftRight) {\n                    frRows = frHdr.querySelectorAll('tr');\n                }\n                fRows = fHdr.querySelectorAll('tr');\n                mRows = mHdr.querySelectorAll('tr');\n            }\n            else {\n                if (isLeftRight) {\n                    frRows = frHdr.querySelector(wrapMode === 'Content' ?\n                        'tbody' : 'thead').querySelectorAll('tr');\n                }\n                fRows = fHdr.querySelector(wrapMode === 'Content' ?\n                    'tbody' : 'thead').querySelectorAll('tr');\n                mRows = mHdr.querySelector(wrapMode === 'Content' ?\n                    'tbody' : 'thead').querySelectorAll('tr');\n            }\n            if (!this.parent.getHeaderContent().querySelectorAll('.e-stackedheadercell').length) {\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, false, this.colDepth > 1, frRows);\n            }\n            this.refreshStackedHdrHgt();\n        }\n        else if (obj.case === 'refreshHeight') {\n            mRows = cont.querySelector('.e-movablecontent').querySelectorAll('tr');\n            fRows = cont.querySelector('.e-frozencontent').querySelectorAll('tr');\n            if (isLeftRight) {\n                frRows = cont.querySelector('.e-frozen-right-content').querySelectorAll('tr');\n            }\n            this.setWrapHeight(fRows, mRows, obj.isModeChg, false, false, frRows);\n            if (!this.parent.getHeaderContent().querySelectorAll('.e-stackedheadercell').length) {\n                if (isLeftRight) {\n                    frRows = frHdr.querySelectorAll('tr');\n                }\n                fRows = fHdr.querySelectorAll('tr');\n                mRows = mHdr.querySelectorAll('tr');\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, false, false, frRows);\n            }\n        }\n    };\n    /**\n     * Function to hide header table column based on visible property\n     * @param  {Column[]} columns?\n     */\n    ColumnFreezeHeaderRenderer.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var displayVal;\n        var idx;\n        var left = this.parent.getFrozenLeftColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        var movable = this.parent.getMovableColumnsCount();\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            idx = gObj.getNormalizedColumnIndex(column.uid);\n            displayVal = column.visible ? '' : 'none';\n            if (column.freeze === 'Left' || column.freeze === 'Right') {\n                if (left && !right) {\n                    var leftColGrp = gObj.getHeaderContent().querySelector('.e-frozen-left-header').querySelector('colgroup');\n                    setStyleAttribute(leftColGrp.children[idx], { 'display': displayVal });\n                }\n                else if (!left && right) {\n                    var rightColGrp = gObj.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('colgroup');\n                    setStyleAttribute(rightColGrp.children[idx - movable], { 'display': displayVal });\n                }\n            }\n            else {\n                var mTblColGrp = gObj.getHeaderContent().querySelector('.e-movableheader').querySelector('colgroup');\n                setStyleAttribute(mTblColGrp.children[idx - left], { 'display': displayVal });\n            }\n        }\n        this.refreshUI();\n    };\n    ColumnFreezeHeaderRenderer.prototype.filterRenderer = function (ele, frozenColumn, total) {\n        return _super.prototype.filterRenderer.call(this, ele, frozenColumn, total);\n    };\n    ColumnFreezeHeaderRenderer.prototype.refreshUI = function () {\n        var frTbody;\n        var tbody = this.getMovableHeader().querySelector('tbody');\n        remove(this.getMovableHeader().querySelector('table'));\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n            frTbody = this.getFrozenRightHeader().querySelector('tbody');\n            remove(this.getFrozenRightHeader().querySelector('table'));\n        }\n        _super.prototype.refreshFrozenLeftUI.call(this);\n        this.rfshMovable();\n        this.getMovableHeader().querySelector('tbody').innerHTML = tbody.innerHTML;\n        if (frTbody) {\n            this.getFrozenRightHeader().querySelector('tbody').innerHTML = frTbody.innerHTML;\n        }\n        this.updateColgroup();\n        this.widthService.setWidthToColumns();\n        this.parent.notify(events.colGroupRefresh, {});\n        if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n            wrap([].slice.call(this.getMovableHeader().querySelectorAll('tr.e-columnheader')), true);\n        }\n        this.parent.updateDefaultCursor();\n        var mTbl = this.parent.getContent().querySelector('.e-movablecontent').querySelector('.e-table');\n        remove(mTbl.querySelector('colgroup'));\n        var mColGroup = (this.getMovableHeader().querySelector('colgroup').cloneNode(true));\n        mTbl.insertBefore(mColGroup, mTbl.querySelector('tbody'));\n        if (frTbody) {\n            var frtbl = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('.e-table');\n            remove(frtbl.querySelector('colgroup'));\n            var frtblColGroup = (this.getFrozenRightHeader().querySelector('colgroup').cloneNode(true));\n            frtbl.insertBefore(frtblColGroup, frtbl.querySelector('tbody'));\n        }\n        this.widthService.refreshFrozenScrollbar();\n        this.initializeHeaderDrag();\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    ColumnFreezeHeaderRenderer.prototype.refreshFreeze = function (obj) {\n        var left = this.parent.getFrozenLeftColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        var movable = this.parent.getMovableColumnsCount();\n        if (obj.case === 'filter') {\n            var filterRow = this.getTable().querySelector('.e-filterbar');\n            if (this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector('thead')) {\n                var index = left ? left : 0;\n                var total = left ? (left + movable) : left + movable;\n                this.getMovableHeader().querySelector('thead')\n                    .appendChild(this.filterRenderer(filterRow, index, total));\n                if (this.parent.getFrozenMode() === 'Left-Right') {\n                    var ele = [].slice.call(this.getMovableHeader().\n                        querySelectorAll('thead .e-filterbarcell .e-input'));\n                    this.getFrozenRightHeader().querySelector('thead').appendChild(this.filterRenderer(filterRow, left, left + right));\n                    this.adjudtFilterBarCell(ele);\n                }\n                var elements = [].slice.call(this.getMovableHeader().\n                    querySelectorAll('thead .e-filterbarcell .e-input'));\n                this.adjudtFilterBarCell(elements);\n            }\n        }\n        else if (obj.case === 'textwrap' || obj.case === 'refreshHeight') {\n            this.refreshHeight(obj);\n            this.parent.contentModule.refreshScrollOffset();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.updateFrozenColGroup = function (cols, colGroup) {\n        if (cols && cols.visible === false) {\n            setStyleAttribute(colGroup, { 'display': 'none' });\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.adjudtFilterBarCell = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var elem = elements_1[_i];\n            var args = {\n                element: elem, floatLabelType: 'Never',\n                properties: {\n                    enableRtl: this.parent.enableRtl, showClearButton: true\n                }\n            };\n            Input.bindInitialEvent(args);\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.renderPanel = function () {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.renderPanel.call(this);\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.renderLeftWithRightFrozenPanel();\n            }\n        }\n        else {\n            this.renderRightFrozenPanelAlone();\n        }\n        this.getPanel().firstChild.style.display = 'flex';\n        this.getMovableHeader().style.flex = '1';\n    };\n    ColumnFreezeHeaderRenderer.prototype.renderTable = function () {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.renderTable.call(this);\n        }\n        else {\n            this.renderFrozenRightTableAlone();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.rfshMovable = function () {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.rfshMovable.call(this);\n            if (this.parent.getFrozenRightColumnsCount()) {\n                var rows = this.rows;\n                this.getFrozenRightHeader().appendChild(this.createTable());\n                this.refreshStackedHdrHgt();\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { renderFrozenRightContent: true } });\n                this.rows = rows;\n            }\n        }\n        else {\n            this.getFrozenRightHeader().appendChild(this.getTable());\n            this.getMovableHeader().appendChild(this.createTable());\n            this.refreshStackedHdrHgt();\n            this.addMovableFirstCls();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.refreshStackedHdrHgt = function () {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.refreshStackedHdrHgt.call(this);\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.refreshFrozenRightStackedHdrHgt();\n            }\n        }\n        else {\n            this.refreshFrozenRightStackedHdrHgt();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.refreshFrozenRightStackedHdrHgt = function () {\n        var fRowSpan;\n        var mRowSpan;\n        var frTr = this.getFrozenRightHeader().querySelectorAll('.e-columnheader');\n        var mTr = this.getMovableHeader().querySelectorAll('.e-columnheader');\n        for (var i = 0, len = frTr.length; i < len; i++) {\n            fRowSpan = this.getRowSpan(frTr[i]);\n            mRowSpan = this.getRowSpan(mTr[i]);\n            if (fRowSpan.min > 1) {\n                this.updateStackedHdrRowHgt(i, fRowSpan.max, frTr[i], mTr);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeHeaderRenderer.prototype.updateColgroup = function () {\n        this.updateMovableColGroup();\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            this.updateFrozenLeftColGroup();\n        }\n        if (this.parent.getFrozenRightColumnsCount()) {\n            this.updateFrozenRightColGroup();\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.renderRightFrozenPanelAlone = function () {\n        var mDiv = this.parent.element.querySelector('.e-movableheader');\n        var fRightDiv = this.parent.element.querySelector('.e-frozen-right-header');\n        _super.prototype.renderFrozenRightPanel.call(this);\n        if (isNullOrUndefined(fRightDiv)) {\n            mDiv = this.parent.createElement('div', { className: 'e-movableheader' });\n            fRightDiv = this.parent.createElement('div', { className: 'e-frozenheader e-frozen-right-header' });\n            this.getPanel().querySelector('.e-headercontent').appendChild(mDiv);\n            this.getPanel().querySelector('.e-headercontent').appendChild(fRightDiv);\n        }\n        _super.prototype.setMovableHeader.call(this, mDiv);\n        this.setFrozenRightHeader(fRightDiv);\n    };\n    ColumnFreezeHeaderRenderer.prototype.renderLeftWithRightFrozenPanel = function () {\n        var fRightDiv = this.parent.element.querySelector('.e-frozen-right-header');\n        _super.prototype.renderFrozenRightPanel.call(this);\n        if (isNullOrUndefined(fRightDiv)) {\n            fRightDiv = this.parent.createElement('div', { className: 'e-frozenheader e-frozen-right-header' });\n            this.getPanel().querySelector('.e-headercontent').appendChild(fRightDiv);\n        }\n        this.setFrozenRightHeader(fRightDiv);\n    };\n    ColumnFreezeHeaderRenderer.prototype.renderFrozenRightTableAlone = function () {\n        _super.prototype.renderFrozenRightTable.call(this);\n        this.rfshMovable();\n        this.updateColgroup();\n        this.initializeHeaderDrag();\n        this.initializeHeaderDrop();\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    ColumnFreezeHeaderRenderer.prototype.updateFrozenLeftColGroup = function () {\n        var leftColGroup = this.getFrozenHeader().querySelector('colgroup').children;\n        var start = this.parent.isRowDragable() ? 1 : 0;\n        var count = this.parent.isRowDragable() ? this.parent.getFrozenLeftColumnsCount() + 1\n            : this.parent.getFrozenLeftColumnsCount();\n        for (var i = start; i < leftColGroup.length; i++) {\n            if (i >= count) {\n                remove(leftColGroup[i]);\n                i--;\n            }\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.updateMovableColGroup = function () {\n        var movableColGroup = this.getMovableHeader().querySelector('colgroup').children;\n        if (this.parent.isRowDragable()) {\n            remove(movableColGroup[0]);\n        }\n        var length = movableColGroup.length;\n        var left = this.parent.getFrozenLeftColumnsCount();\n        var movable = this.parent.getMovableColumnsCount();\n        var k = 0;\n        for (var i = 0; i < length; i++, k++) {\n            if (i < left || i >= left + movable) {\n                remove(movableColGroup[k]);\n                k--;\n            }\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.updateFrozenRightColGroup = function () {\n        var isDraggable = this.parent.isRowDragable();\n        var rightColumns = this.parent.getFrozenRightColumns();\n        var rightColGroup = this.getFrozenRightHeader().querySelector('colgroup').children;\n        if (this.parent.getFrozenMode() === 'Left-Right' && isDraggable) {\n            remove(rightColGroup[0]);\n        }\n        var length = rightColGroup.length;\n        var left = this.parent.getFrozenLeftColumnsCount();\n        var movable = this.parent.getMovableColumnsCount();\n        var k = 0;\n        for (var i = 0; i < length; i++) {\n            if (i < left + movable) {\n                remove(rightColGroup[0]);\n            }\n            else {\n                this.updateFrozenColGroup(rightColumns[k], rightColGroup[k]);\n                k++;\n            }\n        }\n    };\n    ColumnFreezeHeaderRenderer.prototype.setFrozenRightHeader = function (ele) {\n        this.frozenRightHeader = ele;\n    };\n    ColumnFreezeHeaderRenderer.prototype.getFrozenRightHeader = function () {\n        return this.frozenRightHeader;\n    };\n    return ColumnFreezeHeaderRenderer;\n}(FreezeRender));\nexport { ColumnFreezeHeaderRenderer };\n/**\n * ColumnFreezeContentRenderer is used to freeze the columns content at right and left\n * @hidden\n */\nvar ColumnFreezeContentRenderer = /** @class */ (function (_super) {\n    __extends(ColumnFreezeContentRenderer, _super);\n    function ColumnFreezeContentRenderer(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.frzCount = 0;\n        _this.isColGroupRefresh = false;\n        _this.widthService = locator.getService('widthService');\n        return _this;\n    }\n    ColumnFreezeContentRenderer.prototype.renderPanel = function () {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.renderPanel.call(this);\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.renderFrozenLeftWithRightPanel();\n            }\n        }\n        else {\n            this.renderFrozenRightPanelAlone();\n        }\n        var display = this.parent.enableVirtualization ? '' : 'flex';\n        this.getPanel().firstChild.style.display = display;\n    };\n    ColumnFreezeContentRenderer.prototype.renderTable = function () {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.renderTable.call(this);\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.renderFrozenLeftWithRightTable();\n                var display = !this.parent.getVisibleFrozenRightCount() ? 'none' : '';\n                this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-right-scrollbar', display, true);\n            }\n        }\n        else {\n            this.renderFrozenRightTableAlone();\n            var display = !this.parent.getVisibleFrozenRightCount() ? 'none' : '';\n            this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-right-scrollbar', display);\n        }\n        this.getMovableContent().style.flex = '1';\n    };\n    ColumnFreezeContentRenderer.prototype.appendScrollbar = function (frozen, movable, isRight) {\n        var parent = this.parent.createElement('div', { className: 'e-scrollbar', styles: 'display: flex' });\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            if (!isRight) {\n                parent.appendChild(frozen);\n                parent.appendChild(movable);\n            }\n            else {\n                this.parent.getContent().querySelector('.e-scrollbar').appendChild(frozen);\n                return;\n            }\n        }\n        else {\n            parent.appendChild(movable);\n            parent.appendChild(frozen);\n        }\n        this.parent.getContent().appendChild(parent);\n    };\n    ColumnFreezeContentRenderer.prototype.renderFrozenRightPanelAlone = function () {\n        this.renderFrozenRigthPanel();\n        var mDiv = this.parent.element.querySelector('.e-movablecontent');\n        var fRightContent = this.parent.element.querySelector('.e-frozen-right-content');\n        if (isNullOrUndefined(fRightContent)) {\n            mDiv = this.parent.createElement('div', { className: 'e-movablecontent' });\n            fRightContent = this.parent.createElement('div', { className: 'e-frozencontent e-frozen-right-content' });\n            this.getPanel().querySelector('.e-content').appendChild(mDiv);\n            this.getPanel().querySelector('.e-content').appendChild(fRightContent);\n        }\n        _super.prototype.setMovableContent.call(this, mDiv);\n        this.setFrozenRightContent(fRightContent);\n    };\n    ColumnFreezeContentRenderer.prototype.renderFrozenLeftWithRightPanel = function () {\n        this.renderFrozenRigthPanel();\n        var fRightContent = this.parent.element.querySelector('.e-frozen-right-content');\n        if (isNullOrUndefined(fRightContent)) {\n            fRightContent = this.parent.createElement('div', { className: 'e-frozencontent e-frozen-right-content' });\n            this.getPanel().querySelector('.e-content').appendChild(fRightContent);\n        }\n        this.setFrozenRightContent(fRightContent);\n    };\n    ColumnFreezeContentRenderer.prototype.renderFrozenRightTableAlone = function () {\n        var mTbl;\n        if (this.getFrozenRightContent().querySelector('.e-table') == null) {\n            _super.prototype.renderFrozenRightTable.call(this);\n            this.getFrozenRightContent().appendChild(this.getTable());\n            mTbl = this.getTable().cloneNode(true);\n            this.getMovableContent().appendChild(mTbl);\n        }\n        else {\n            if (this.parent.frozenRows) {\n                this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n            }\n            this.setTable(this.getFrozenRightContent().querySelector('.e-table'));\n            this.setColGroup(this.getFrozenRightHeaderColGroup());\n            mTbl = this.getMovableContent().querySelector('.e-table');\n            this.getFrozenRightContent().querySelector('.e-table').appendChild(this.getColGroup());\n        }\n        if (this.getMovableContent().querySelector('colgroup')) {\n            remove(this.getMovableContent().querySelector('colgroup'));\n        }\n        var colgroup = ((this.parent.getHeaderContent().querySelector('.e-movableheader')\n            .querySelector('colgroup')).cloneNode(true));\n        mTbl.insertBefore(colgroup, mTbl.querySelector('tbody'));\n    };\n    ColumnFreezeContentRenderer.prototype.renderFrozenLeftWithRightTable = function () {\n        var frozenRight = this.getTable().cloneNode(true);\n        this.getFrozenRightContent().appendChild(frozenRight);\n        var oldColGroup = this.getFrozenRightContent().querySelector('colgroup');\n        if (oldColGroup) {\n            remove(oldColGroup);\n        }\n        var rightTable = this.getFrozenRightContent().querySelector('.e-table');\n        rightTable.insertBefore(this.getFrozenRightHeaderColGroup(), rightTable.querySelector('tbody'));\n    };\n    ColumnFreezeContentRenderer.prototype.renderFrozenRightEmptyRowAlone = function (tbody) {\n        _super.prototype.renderFrozenRightEmpty.call(this, tbody);\n        this.getMovableContent().querySelector('tbody').innerHTML = '<tr><td></td></tr>';\n        addClass([this.parent.getMovableContentTbody().querySelector('tr')], ['e-emptyrow']);\n        this.getFrozenRightContent().querySelector('.e-emptyrow').querySelector('td').colSpan = this.parent.getFrozenRightColumnsCount();\n        if (this.parent.frozenRows) {\n            this.parent.getFrozenRightHeaderTbody().innerHTML = '';\n            this.parent.getMovableHeaderTbody().innerHTML = '';\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeContentRenderer.prototype.getFrozenHeader = function (tableName) {\n        if (tableName === 'frozen-left') {\n            return this.parent.getHeaderContent().querySelector('.e-frozen-left-header').querySelector('tbody');\n        }\n        else if (tableName === 'movable') {\n            return this.parent.getHeaderContent().querySelector('.e-movableheader').querySelector('tbody');\n        }\n        else {\n            return this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('tbody');\n        }\n    };\n    ColumnFreezeContentRenderer.prototype.renderFrozenLeftWithRightEmptyRow = function () {\n        this.getFrozenRightContent().querySelector('tbody').innerHTML = '<tr><td></td></tr>';\n        addClass([this.getFrozenRightContent().querySelector('tbody').querySelector('tr')], ['e-emptyrow']);\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('tbody').innerHTML = '';\n        }\n    };\n    ColumnFreezeContentRenderer.prototype.setFrozenRightContent = function (ele) {\n        this.frozenRigthContent = ele;\n    };\n    ColumnFreezeContentRenderer.prototype.getFrozenRightContent = function () {\n        return this.frozenRigthContent;\n    };\n    ColumnFreezeContentRenderer.prototype.getHeaderColGroup = function () {\n        var colGroup = this.parent.element.querySelector('.e-gridheader').querySelector('colgroup').cloneNode(true);\n        if (!this.parent.getFrozenLeftColumnsCount()) {\n            var right = this.getFrozenRightHeaderColGroup();\n            colGroup = right && this.frzCount ? right.cloneNode(true) : colGroup;\n            this.frzCount++;\n            this.isColGroupRefresh = true;\n        }\n        return colGroup;\n    };\n    ColumnFreezeContentRenderer.prototype.getFrozenRightHeaderColGroup = function () {\n        var col = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('colgroup');\n        if (!col) {\n            col = this.parent.getHeaderContent().querySelector('colgroup');\n        }\n        return col.cloneNode(true);\n    };\n    ColumnFreezeContentRenderer.prototype.setColGroup = function (colGroup) {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            return _super.prototype.setColGroup.call(this, colGroup);\n        }\n        else {\n            colGroup = !this.isColGroupRefresh ? this.getFrozenRightHeaderColGroup() : colGroup;\n            if (!isNullOrUndefined(colGroup)) {\n                colGroup.id = 'content-' + colGroup.id;\n            }\n            this.isColGroupRefresh = false;\n            if (this.frzCount === 2) {\n                this.frzCount = 0;\n            }\n            return this.colgroup = colGroup;\n        }\n    };\n    ColumnFreezeContentRenderer.prototype.renderEmpty = function (tbody) {\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            _super.prototype.renderEmpty.call(this, tbody);\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.renderFrozenLeftWithRightEmptyRow();\n            }\n        }\n        else {\n            this.renderFrozenRightEmptyRowAlone(tbody);\n        }\n    };\n    ColumnFreezeContentRenderer.prototype.setHeightToContent = function (height) {\n        if (this.parent.getFrozenRightColumnsCount()) {\n            this.getFrozenRightContent().style.height = height.toString() + 'px';\n        }\n        if (this.parent.getFrozenLeftColumnsCount()) {\n            this.getFrozenContent().style.height = height.toString() + 'px';\n        }\n        this.getMovableContent().style.height = height.toString() + 'px';\n    };\n    ColumnFreezeContentRenderer.prototype.actionComplete = function (args) {\n        _super.prototype.actionComplete.call(this, args);\n    };\n    ColumnFreezeContentRenderer.prototype.batchAdd = function (args) {\n        _super.prototype.batchAdd.call(this, args);\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeContentRenderer.prototype.getTbody = function (tableName) {\n        var tbody;\n        if (tableName === 'frozen-left') {\n            tbody = this.parent.getFrozenLeftContentTbody();\n        }\n        else if (tableName === 'movable') {\n            tbody = this.parent.getMovableContentTbody();\n        }\n        else if (tableName === 'frozen-right') {\n            tbody = this.parent.getFrozenRightContentTbody();\n        }\n        return tbody;\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeContentRenderer.prototype.setIsFrozen = function (args, tableName) {\n        args.isFrozen = (tableName === 'frozen-left' || (this.parent.getFrozenMode() === 'Right'\n            && tableName === 'frozen-right'));\n        args.renderFrozenRightContent = this.parent.getFrozenMode() === 'Left-Right' && tableName === 'frozen-right';\n        args.renderMovableContent = tableName === 'movable';\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeContentRenderer.prototype.appendContent = function (tbody, frag, args, tableName) {\n        if (!isNullOrUndefined(this.parent.rowTemplate) && this.parent.isReact) {\n            tbody = frag;\n        }\n        else {\n            tbody.appendChild(frag);\n        }\n        if (this.parent.getFrozenMode() === 'Left') {\n            if (tableName === 'frozen-left') {\n                this.isLoaded = false;\n                this.getFrozenContent().querySelector('table').appendChild(tbody);\n                this.refreshContentRows(extend({}, args));\n            }\n            else {\n                this.refreshTbody(tbody);\n                this.isLoaded = true;\n                this.getMovableContent().querySelector('table').appendChild(tbody);\n                this.refreshHeight();\n                this.refreshScrollOffset();\n            }\n        }\n        else if (this.parent.getFrozenMode() === 'Right') {\n            if (tableName === 'movable') {\n                this.refreshTbody(tbody);\n                this.isLoaded = true;\n                this.getMovableContent().querySelector('table').appendChild(tbody);\n                this.refreshHeight();\n                this.refreshScrollOffset();\n            }\n            else {\n                this.isLoaded = false;\n                this.getFrozenRightContent().querySelector('table').appendChild(tbody);\n                this.refreshContentRows(extend({}, args));\n            }\n        }\n        else if (this.parent.getFrozenMode() === 'Left-Right') {\n            if (tableName === 'frozen-left') {\n                this.isLoaded = false;\n                this.getFrozenContent().querySelector('table').appendChild(tbody);\n                this.refreshContentRows(extend({}, args));\n            }\n            else if (tableName === 'movable') {\n                this.refreshTbody(tbody);\n                this.isLoaded = false;\n                this.getMovableContent().querySelector('table').appendChild(tbody);\n                this.refreshContentRows(extend({}, args));\n            }\n            else {\n                this.isLoaded = true;\n                this.getFrozenRightContent().querySelector('table').appendChild(tbody);\n                this.refreshHeight();\n                this.refreshScrollOffset();\n            }\n        }\n        if (this.isInitialRender) {\n            this.parent.scrollModule.setHeight();\n            this.isInitialRender = false;\n        }\n        this.widthService.refreshFrozenScrollbar();\n    };\n    ColumnFreezeContentRenderer.prototype.refreshHeight = function () {\n        if (!this.parent.allowTextWrap) {\n            this.parent.notify(events.freezeRender, { case: 'refreshHeight' });\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeContentRenderer.prototype.splitRows = function (tableName) {\n        var left = this.parent.getFrozenLeftColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (left && !right) {\n            if (tableName === 'frozen-left') {\n                this.freezeRows = this.rows;\n                this.freezeRowElements = this.rowElements;\n            }\n            else {\n                this.movableRows = this.rows;\n            }\n        }\n        else if (!left && right) {\n            if (tableName === 'movable') {\n                this.movableRows = this.rows;\n            }\n            else {\n                this.freezeRows = this.rows;\n                this.freezeRowElements = this.rowElements;\n            }\n        }\n        else if (left && right) {\n            if (tableName === 'frozen-left') {\n                this.freezeRows = this.rows;\n                this.freezeRowElements = this.rowElements;\n            }\n            else if (tableName === 'movable') {\n                this.movableRows = this.rows;\n                this.movableRowElements = this.rowElements;\n            }\n            else {\n                this.frozenRightRows = this.rows;\n                this.frozenRightRowElements = this.rowElements;\n            }\n        }\n    };\n    /**\n     * Get the Freeze pane movable content table data row elements\n     * @return {Element}\n     */\n    ColumnFreezeContentRenderer.prototype.getMovableRowElements = function () {\n        if (this.parent.getTablesCount() === 2) {\n            return this.rowElements;\n        }\n        else {\n            return this.movableRowElements;\n        }\n    };\n    /**\n     * Get the Freeze pane frozen right content table data row elements\n     * @return {Element}\n     */\n    ColumnFreezeContentRenderer.prototype.getFrozenRightRowElements = function () {\n        if (this.parent.getTablesCount() === 2) {\n            return this.freezeRowElements;\n        }\n        else {\n            return this.frozenRightRowElements;\n        }\n    };\n    /**\n     * Get the frozen right row collection in the Freeze pane Grid.\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>}\n     */\n    ColumnFreezeContentRenderer.prototype.getFrozenRightRows = function () {\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n            if (this.parent.enableInfiniteScrolling) {\n                return this.rightFreezeRows;\n            }\n            return this.frozenRightRows;\n        }\n        else {\n            return this.getRows();\n        }\n    };\n    /**\n     * @hidden\n     */\n    ColumnFreezeContentRenderer.prototype.getFrozenRightRowByIndex = function (index) {\n        return this.parent.getFrozenRightDataRows()[index];\n    };\n    /**\n     * Get the Row collection in the Grid.\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>}\n     */\n    ColumnFreezeContentRenderer.prototype.getRows = function () {\n        var infiniteRows = this.getInfiniteRows();\n        return infiniteRows.length ? infiniteRows : this.freezeRows;\n    };\n    /**\n     * Get the content table data row elements\n     * @return {Element}\n     */\n    ColumnFreezeContentRenderer.prototype.getRowElements = function () {\n        return this.freezeRowElements;\n    };\n    return ColumnFreezeContentRenderer;\n}(FreezeContentRender));\nexport { ColumnFreezeContentRenderer };\n"]},"metadata":{},"sourceType":"module"}