{"ast":null,"code":"import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove, isBlazor } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nexport var menuClass = {\n  header: '.e-gridheader',\n  content: '.e-gridcontent',\n  edit: '.e-inline-edit',\n  batchEdit: '.e-editedbatchcell',\n  editIcon: 'e-edit',\n  pager: '.e-gridpager',\n  delete: 'e-delete',\n  save: 'e-save',\n  cancel: 'e-cancel',\n  copy: 'e-copy',\n  pdf: 'e-pdfexport',\n  group: 'e-icon-group',\n  ungroup: 'e-icon-ungroup',\n  csv: 'e-csvexport',\n  excel: 'e-excelexport',\n  fPage: 'e-icon-first',\n  nPage: 'e-icon-next',\n  lPage: 'e-icon-last',\n  pPage: 'e-icon-prev',\n  ascending: 'e-icon-ascending',\n  descending: 'e-icon-descending',\n  groupHeader: 'e-groupdroparea',\n  touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\n\nvar ContextMenu =\n/** @class */\nfunction () {\n  function ContextMenu(parent, serviceLocator) {\n    this.defaultItems = {};\n    this.disableItems = [];\n    this.hiddenItems = [];\n    this.localeText = this.setLocaleKey();\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  /**\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n    this.parent.on(events.initialLoad, this.render, this);\n  };\n  /**\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialLoad, this.render);\n    this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n  };\n\n  ContextMenu.prototype.keyDownHandler = function (e) {\n    if (e.code === 'Tab' || e.which === 9) {\n      this.contextMenu.close();\n    }\n\n    if (e.code === 'Escape') {\n      this.contextMenu.close();\n      this.parent.notify(events.restoreFocus, {});\n    }\n  };\n\n  ContextMenu.prototype.render = function () {\n    this.parent.element.classList.add('e-noselect');\n    this.l10n = this.serviceLocator.getService('localization');\n    this.element = this.parent.createElement('ul', {\n      id: this.gridID + '_cmenu'\n    });\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n    this.parent.element.appendChild(this.element);\n    var target = '#' + this.gridID;\n    this.contextMenu = new Menu({\n      items: this.getMenuItems(),\n      enableRtl: this.parent.enableRtl,\n      enablePersistence: this.parent.enablePersistence,\n      locale: this.parent.locale,\n      target: target,\n      select: this.contextMenuItemClick.bind(this),\n      beforeOpen: this.contextMenuBeforeOpen.bind(this),\n      onOpen: this.contextMenuOpen.bind(this),\n      onClose: this.contextMenuOnClose.bind(this),\n      cssClass: 'e-grid-menu'\n    });\n    this.contextMenu.appendTo(this.element);\n  };\n\n  ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      if (this.contextMenu) {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.parent.element.classList.remove('e-noselect');\n      }\n\n      this.render();\n    }\n  };\n\n  ContextMenu.prototype.getMenuItems = function () {\n    var menuItems = [];\n    var exportItems = [];\n\n    for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n        if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n          exportItems.push(this.buildDefaultItems(item));\n        } else {\n          menuItems.push(this.buildDefaultItems(item));\n        }\n      } else if (typeof item !== 'string') {\n        menuItems.push(item);\n      }\n    }\n\n    if (exportItems.length > 0) {\n      var exportGroup = this.buildDefaultItems('export');\n      exportGroup.items = exportItems;\n      menuItems.push(exportGroup);\n    }\n\n    return menuItems;\n  };\n\n  ContextMenu.prototype.getLastPage = function () {\n    var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n\n    if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n      totalpage += 1;\n    }\n\n    return totalpage;\n  };\n\n  ContextMenu.prototype.contextMenuOpen = function () {\n    this.isOpen = true;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.contextMenuItemClick = function (args) {\n    var item = this.getKeyFromId(args.item.id);\n\n    switch (item) {\n      case 'AutoFitAll':\n        this.parent.autoFitColumns([]);\n        break;\n\n      case 'AutoFit':\n        this.parent.autoFitColumns(this.targetColumn.field);\n        break;\n\n      case 'Group':\n        this.parent.groupColumn(this.targetColumn.field);\n        break;\n\n      case 'Ungroup':\n        this.parent.ungroupColumn(this.targetColumn.field);\n        break;\n\n      case 'Edit':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode === 'Batch') {\n            if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute('aria-colindex'), 10))) {\n              this.parent.editModule.editCell(parseInt(this.row.getAttribute('aria-rowindex'), 10), this.parent.getColumns()[parseInt(this.cell.getAttribute('aria-colindex'), 10)].field);\n            }\n          } else {\n            this.parent.editModule.endEdit();\n            this.parent.editModule.startEdit(this.row);\n          }\n        }\n\n        break;\n\n      case 'Delete':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode !== 'Batch') {\n            this.parent.editModule.endEdit();\n          }\n\n          if (this.parent.getSelectedRecords().length === 1) {\n            this.parent.editModule.deleteRow(this.row);\n          } else {\n            this.parent.deleteRecord();\n          }\n        }\n\n        break;\n\n      case 'Save':\n        if (this.parent.editModule) {\n          this.parent.editModule.endEdit();\n        }\n\n        break;\n\n      case 'Cancel':\n        if (this.parent.editModule) {\n          this.parent.editModule.closeEdit();\n        }\n\n        break;\n\n      case 'Copy':\n        this.parent.copy();\n        break;\n\n      case 'PdfExport':\n        this.parent.pdfExport();\n        break;\n\n      case 'ExcelExport':\n        this.parent.excelExport();\n        break;\n\n      case 'CsvExport':\n        this.parent.csvExport();\n        break;\n\n      case 'SortAscending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n        break;\n\n      case 'SortDescending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Descending');\n        break;\n\n      case 'FirstPage':\n        this.parent.goToPage(1);\n        break;\n\n      case 'PrevPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n        break;\n\n      case 'LastPage':\n        this.parent.goToPage(this.getLastPage());\n        break;\n\n      case 'NextPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n        break;\n    }\n\n    args.column = this.targetColumn;\n    args.rowInfo = this.targetRowdata;\n\n    if (isBlazor()) {\n      var contextMenuClickArgs = args.rowInfo.row ? {\n        element: args.element,\n        item: args.item,\n        event: args.event,\n        column: this.targetColumn,\n        rowInfo: {\n          rowData: this.targetRowdata.rowData,\n          rowIndex: this.targetRowdata.rowIndex,\n          cellIndex: this.targetRowdata.cellIndex\n        }\n      } : this.targetColumn ? {\n        element: args.element,\n        item: args.item,\n        event: args.event,\n        column: this.targetColumn\n      } : {\n        element: args.element,\n        item: args.item,\n        event: args.event\n      };\n      this.parent.trigger(events.contextMenuClick, contextMenuClickArgs);\n    } else {\n      this.parent.trigger(events.contextMenuClick, args);\n    }\n  };\n\n  ContextMenu.prototype.contextMenuOnClose = function (args) {\n    var parent = 'parentObj';\n\n    if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n      this.updateItemStatus();\n    }\n  };\n\n  ContextMenu.prototype.getLocaleText = function (item) {\n    return this.l10n.getConstant(this.localeText[item]);\n  };\n\n  ContextMenu.prototype.updateItemStatus = function () {\n    this.contextMenu.showItems(this.hiddenItems);\n    this.contextMenu.enableItems(this.disableItems);\n    this.hiddenItems = [];\n    this.disableItems = [];\n    this.isOpen = false;\n  };\n\n  ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n    var changedRecords = 'changedRecords';\n    var addedRecords = 'addedRecords';\n    var deletedRecords = 'deletedRecords';\n    var closestGrid = closest(args.event.target, '.e-grid');\n\n    if (args.event && closestGrid && closestGrid !== this.parent.element) {\n      args.cancel = true;\n    } else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader) || closest(args.event.target, '.' + menuClass.touchPop) || closest(args.event.target, '.e-summarycell') || closest(args.event.target, '.e-groupcaption') || closest(args.event.target, '.e-filterbarcell'))) {\n      args.cancel = true;\n    } else {\n      this.targetColumn = this.getColumn(args.event);\n      this.targetRowdata = this.parent.getRowInfo(args.event.target);\n\n      if (isNullOrUndefined(args.parentItem) && this.targetColumn) {\n        if (this.targetRowdata.cell) {\n          this.selectRow(args.event, this.targetRowdata.cell.classList.contains('e-selectionbackground') && this.parent.selectionSettings.type === 'Multiple' ? false : true);\n        }\n      }\n\n      var hideSepItems = [];\n      var showSepItems = [];\n\n      for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var key = this.getKeyFromId(item.id);\n        var dItem = this.defaultItems[key];\n\n        if (this.getDefaultItems().indexOf(key) !== -1) {\n          if (this.ensureDisabledStatus(key)) {\n            this.disableItems.push(item.text);\n          }\n\n          if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) || this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n            if (key !== 'Save' && key !== 'Cancel') {\n              this.hiddenItems.push(item.text);\n            }\n          } else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' && (closest(args.event.target, '.e-gridform') || this.parent.editModule.getBatchChanges()[changedRecords].length || this.parent.editModule.getBatchChanges()[addedRecords].length || this.parent.editModule.getBatchChanges()[deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n            continue;\n          } else if (isNullOrUndefined(args.parentItem) && args.event && !this.ensureTarget(args.event.target, dItem.target)) {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (item.target && args.event && !this.ensureTarget(args.event.target, item.target)) {\n          if (item.separator) {\n            hideSepItems.push(item.id);\n          } else {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n          showSepItems.push(item.id);\n        }\n      }\n\n      if (showSepItems.length > 0) {\n        this.contextMenu.showItems(showSepItems, true);\n      }\n\n      this.contextMenu.enableItems(this.disableItems, false);\n      this.contextMenu.hideItems(this.hiddenItems);\n\n      if (hideSepItems.length > 0) {\n        this.contextMenu.hideItems(hideSepItems, true);\n      }\n\n      this.eventArgs = args.event;\n      args.column = this.targetColumn;\n      args.rowInfo = this.targetRowdata;\n      this.parent.trigger(events.contextMenuOpen, args);\n\n      if (args.cancel || this.hiddenItems.length === args.items.length && !args.parentItem) {\n        this.updateItemStatus();\n        args.cancel = true;\n      }\n    }\n\n    applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n  };\n\n  ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n    var target = targetElement;\n\n    if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n      target = closest(targetElement, selector === menuClass.header ? 'thead' : 'tbody');\n    } else if (selector === menuClass.content || selector === menuClass.header) {\n      target = parentsUntil(closest(targetElement, '.e-table'), selector.substr(1, selector.length));\n    } else {\n      target = closest(targetElement, selector);\n    }\n\n    return target && parentsUntil(target, 'e-grid') === this.parent.element;\n  };\n\n  ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n    return (this.parent.isFrozenGrid() || this.parent.frozenRows) && closest(targetElement, menuClass.header) ? true : false;\n  };\n\n  ContextMenu.prototype.ensureDisabledStatus = function (item) {\n    var status = false;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit) || this.targetColumn && !this.targetColumn.field && item === 'AutoFit';\n        break;\n\n      case 'Group':\n        if (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0 || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        }\n\n        break;\n\n      case 'Ungroup':\n        if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Edit':\n      case 'Delete':\n      case 'Save':\n      case 'Cancel':\n        if (!this.parent.editModule || this.parent.getDataRows().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Copy':\n        if (this.parent.getSelectedRowIndexes().length === 0 || this.parent.getCurrentViewRecords().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'export':\n        if (!this.parent.allowExcelExport || !this.parent.excelExport || !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'PdfExport':\n        if (!this.parent.allowPdfExport || !this.parent.ensureModuleInjected(PdfExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'ExcelExport':\n      case 'CsvExport':\n        if (!this.parent.allowExcelExport || !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'SortAscending':\n      case 'SortDescending':\n        if (!this.parent.allowSorting || !this.parent.ensureModuleInjected(Sort) || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        } else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n          var sortColumns = this.parent.sortSettings.columns;\n\n          for (var i = 0; i < sortColumns.length; i++) {\n            if (sortColumns[i].field === this.targetColumn.field && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n              status = true;\n            }\n          }\n        }\n\n        break;\n\n      case 'FirstPage':\n      case 'PrevPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1) {\n          status = true;\n        }\n\n        break;\n\n      case 'LastPage':\n      case 'NextPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage()) {\n          status = true;\n        }\n\n        break;\n    }\n\n    return status;\n  };\n  /**\n   * Gets the context menu element from the Grid.\n   * @return {Element}\n   */\n\n\n  ContextMenu.prototype.getContextMenu = function () {\n    return this.element;\n  };\n  /**\n   * Destroys the context menu component in the Grid.\n   * @method destroy\n   * @return {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n\n    if (!gridElement || !gridElement.querySelector('.e-gridheader') && !gridElement.querySelector('.e-gridcontent')) {\n      return;\n    }\n\n    this.contextMenu.destroy();\n    remove(this.element);\n    this.removeEventListener();\n    this.parent.element.classList.remove('e-noselect');\n  };\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextMenu';\n  };\n\n  ContextMenu.prototype.generateID = function (item) {\n    return this.gridID + '_cmenu_' + item;\n  };\n\n  ContextMenu.prototype.getKeyFromId = function (id) {\n    return id.replace(this.gridID + '_cmenu_', '');\n  };\n\n  ContextMenu.prototype.buildDefaultItems = function (item) {\n    var menuItem;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        menuItem = {\n          target: menuClass.header\n        };\n        break;\n\n      case 'Group':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.group\n        };\n        break;\n\n      case 'Ungroup':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ungroup\n        };\n        break;\n\n      case 'Edit':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.editIcon\n        };\n        break;\n\n      case 'Delete':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.delete\n        };\n        break;\n\n      case 'Save':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.save\n        };\n        break;\n\n      case 'Cancel':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.cancel\n        };\n        break;\n\n      case 'Copy':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.copy\n        };\n        break;\n\n      case 'export':\n        menuItem = {\n          target: menuClass.content\n        };\n        break;\n\n      case 'PdfExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.pdf\n        };\n        break;\n\n      case 'ExcelExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.excel\n        };\n        break;\n\n      case 'CsvExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.csv\n        };\n        break;\n\n      case 'SortAscending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ascending\n        };\n        break;\n\n      case 'SortDescending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.descending\n        };\n        break;\n\n      case 'FirstPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.fPage\n        };\n        break;\n\n      case 'PrevPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.pPage\n        };\n        break;\n\n      case 'LastPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.lPage\n        };\n        break;\n\n      case 'NextPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.nPage\n        };\n        break;\n    }\n\n    this.defaultItems[item] = {\n      text: this.getLocaleText(item),\n      id: this.generateID(item),\n      target: menuItem.target,\n      iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n    };\n    return this.defaultItems[item];\n  };\n\n  ContextMenu.prototype.getDefaultItems = function () {\n    return ['AutoFitAll', 'AutoFit', 'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export', 'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending', 'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n  };\n\n  ContextMenu.prototype.setLocaleKey = function () {\n    var localeKeys = {\n      'AutoFitAll': 'autoFitAll',\n      'AutoFit': 'autoFit',\n      'Copy': 'Copy',\n      'Group': 'Group',\n      'Ungroup': 'Ungroup',\n      'Edit': 'EditRecord',\n      'Delete': 'DeleteRecord',\n      'Save': 'Save',\n      'Cancel': 'CancelButton',\n      'PdfExport': 'Pdfexport',\n      'ExcelExport': 'Excelexport',\n      'CsvExport': 'Csvexport',\n      'export': 'Export',\n      'SortAscending': 'SortAscending',\n      'SortDescending': 'SortDescending',\n      'FirstPage': 'FirstPage',\n      'LastPage': 'LastPage',\n      'PrevPage': 'PreviousPage',\n      'NextPage': 'NextPage'\n    };\n\n    if (isBlazor()) {\n      var autoFitAll = 'AutoFitAll';\n      localeKeys[autoFitAll] = 'AutoFitAll';\n      var autoFit = 'AutoFit';\n      localeKeys[autoFit] = 'AutoFit';\n    }\n\n    return localeKeys;\n  };\n\n  ContextMenu.prototype.getColumn = function (e) {\n    var cell = closest(e.target, 'th.e-headercell');\n\n    if (cell) {\n      var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n      return this.parent.getColumnByUid(uid);\n    } else {\n      var ele = this.parent.getRowInfo(e.target).column;\n      return ele || null;\n    }\n  };\n\n  ContextMenu.prototype.selectRow = function (e, isSelectable) {\n    this.cell = e.target;\n    this.row = closest(e.target, 'tr.e-row') || this.row;\n\n    if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n      this.parent.selectRow(parseInt(this.row.getAttribute('aria-rowindex'), 10));\n    }\n  };\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu };","map":{"version":3,"sources":["C:/Users/appsk/Documents/Projects/PredictiveMaintenance/React PDM/env/frontend/node_modules/@syncfusion/ej2-grids/src/grid/actions/context-menu.js"],"names":["closest","isNullOrUndefined","EventHandler","remove","isBlazor","ContextMenu","Menu","events","Resize","Page","parentsUntil","applyBiggerTheme","Group","Sort","PdfExport","ExcelExport","menuClass","header","content","edit","batchEdit","editIcon","pager","delete","save","cancel","copy","pdf","group","ungroup","csv","excel","fPage","nPage","lPage","pPage","ascending","descending","groupHeader","touchPop","parent","serviceLocator","defaultItems","disableItems","hiddenItems","localeText","setLocaleKey","gridID","element","id","addEventListener","prototype","isDestroyed","on","uiUpdate","enableAfterRenderMenu","initialLoad","render","removeEventListener","off","keyDownHandler","bind","e","code","which","contextMenu","close","notify","restoreFocus","classList","add","l10n","getService","createElement","appendChild","target","items","getMenuItems","enableRtl","enablePersistence","locale","select","contextMenuItemClick","beforeOpen","contextMenuBeforeOpen","onOpen","contextMenuOpen","onClose","contextMenuOnClose","cssClass","appendTo","module","getModuleName","enable","destroy","menuItems","exportItems","_i","_a","contextMenuItems","length","item","getDefaultItems","indexOf","toLocaleLowerCase","push","buildDefaultItems","exportGroup","getLastPage","totalpage","Math","floor","pageSettings","totalRecordsCount","pageSize","isOpen","args","getKeyFromId","autoFitColumns","targetColumn","field","groupColumn","ungroupColumn","editModule","editSettings","mode","row","cell","isNaN","parseInt","getAttribute","editCell","getColumns","endEdit","startEdit","getSelectedRecords","deleteRow","deleteRecord","closeEdit","pdfExport","excelExport","csvExport","sortColumn","goToPage","currentPage","column","rowInfo","targetRowdata","contextMenuClickArgs","event","rowData","rowIndex","cellIndex","trigger","contextMenuClick","updateItemStatus","getLocaleText","getConstant","showItems","enableItems","changedRecords","addedRecords","deletedRecords","closestGrid","getColumn","getRowInfo","parentItem","selectRow","contains","selectionSettings","type","hideSepItems","showSepItems","key","dItem","ensureDisabledStatus","text","ensureTarget","getBatchChanges","separator","hideItems","eventArgs","parentElement","targetElement","selector","ensureFrozenHeader","substr","isFrozenGrid","frozenRows","status","ensureModuleInjected","isEdit","allowGrouping","groupSettings","columns","getDataRows","getSelectedRowIndexes","getCurrentViewRecords","allowExcelExport","allowPdfExport","allowSorting","sortSettings","sortColumns","i","direction","toLowerCase","replace","allowPaging","getContextMenu","gridElement","querySelector","generateID","menuItem","iconCss","localeKeys","autoFitAll","autoFit","uid","getColumnByUid","ele","isSelectable"],"mappings":"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","sourcesContent":["import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove, isBlazor } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nexport var menuClass = {\n    header: '.e-gridheader',\n    content: '.e-gridcontent',\n    edit: '.e-inline-edit',\n    batchEdit: '.e-editedbatchcell',\n    editIcon: 'e-edit',\n    pager: '.e-gridpager',\n    delete: 'e-delete',\n    save: 'e-save',\n    cancel: 'e-cancel',\n    copy: 'e-copy',\n    pdf: 'e-pdfexport',\n    group: 'e-icon-group',\n    ungroup: 'e-icon-ungroup',\n    csv: 'e-csvexport',\n    excel: 'e-excelexport',\n    fPage: 'e-icon-first',\n    nPage: 'e-icon-next',\n    lPage: 'e-icon-last',\n    pPage: 'e-icon-prev',\n    ascending: 'e-icon-ascending',\n    descending: 'e-icon-descending',\n    groupHeader: 'e-groupdroparea',\n    touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent, serviceLocator) {\n        this.defaultItems = {};\n        this.disableItems = [];\n        this.hiddenItems = [];\n        this.localeText = this.setLocaleKey();\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @hidden\n     */\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n        this.parent.on(events.initialLoad, this.render, this);\n    };\n    /**\n     * @hidden\n     */\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n    };\n    ContextMenu.prototype.keyDownHandler = function (e) {\n        if (e.code === 'Tab' || e.which === 9) {\n            this.contextMenu.close();\n        }\n        if (e.code === 'Escape') {\n            this.contextMenu.close();\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.parent.element.classList.add('e-noselect');\n        this.l10n = this.serviceLocator.getService('localization');\n        this.element = this.parent.createElement('ul', { id: this.gridID + '_cmenu' });\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.gridID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            target: target,\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-grid-menu'\n        });\n        this.contextMenu.appendTo(this.element);\n    };\n    ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n                this.parent.element.classList.remove('e-noselect');\n            }\n            this.render();\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = [];\n        var exportItems = [];\n        for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n                    exportItems.push(this.buildDefaultItems(item));\n                }\n                else {\n                    menuItems.push(this.buildDefaultItems(item));\n                }\n            }\n            else if (typeof item !== 'string') {\n                menuItems.push(item);\n            }\n        }\n        if (exportItems.length > 0) {\n            var exportGroup = this.buildDefaultItems('export');\n            exportGroup.items = exportItems;\n            menuItems.push(exportGroup);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.getLastPage = function () {\n        var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n        if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n            totalpage += 1;\n        }\n        return totalpage;\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    /**\n     * @hidden\n     */\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        var item = this.getKeyFromId(args.item.id);\n        switch (item) {\n            case 'AutoFitAll':\n                this.parent.autoFitColumns([]);\n                break;\n            case 'AutoFit':\n                this.parent.autoFitColumns(this.targetColumn.field);\n                break;\n            case 'Group':\n                this.parent.groupColumn(this.targetColumn.field);\n                break;\n            case 'Ungroup':\n                this.parent.ungroupColumn(this.targetColumn.field);\n                break;\n            case 'Edit':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute('aria-colindex'), 10))) {\n                            this.parent.editModule.editCell(parseInt(this.row.getAttribute('aria-rowindex'), 10), this.parent.getColumns()[parseInt(this.cell.getAttribute('aria-colindex'), 10)].field);\n                        }\n                    }\n                    else {\n                        this.parent.editModule.endEdit();\n                        this.parent.editModule.startEdit(this.row);\n                    }\n                }\n                break;\n            case 'Delete':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.editModule.endEdit();\n                    }\n                    if (this.parent.getSelectedRecords().length === 1) {\n                        this.parent.editModule.deleteRow(this.row);\n                    }\n                    else {\n                        this.parent.deleteRecord();\n                    }\n                }\n                break;\n            case 'Save':\n                if (this.parent.editModule) {\n                    this.parent.editModule.endEdit();\n                }\n                break;\n            case 'Cancel':\n                if (this.parent.editModule) {\n                    this.parent.editModule.closeEdit();\n                }\n                break;\n            case 'Copy':\n                this.parent.copy();\n                break;\n            case 'PdfExport':\n                this.parent.pdfExport();\n                break;\n            case 'ExcelExport':\n                this.parent.excelExport();\n                break;\n            case 'CsvExport':\n                this.parent.csvExport();\n                break;\n            case 'SortAscending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n                break;\n            case 'SortDescending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Descending');\n                break;\n            case 'FirstPage':\n                this.parent.goToPage(1);\n                break;\n            case 'PrevPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n                break;\n            case 'LastPage':\n                this.parent.goToPage(this.getLastPage());\n                break;\n            case 'NextPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n                break;\n        }\n        args.column = this.targetColumn;\n        args.rowInfo = this.targetRowdata;\n        if (isBlazor()) {\n            var contextMenuClickArgs = args.rowInfo.row ?\n                {\n                    element: args.element, item: args.item, event: args.event, column: this.targetColumn, rowInfo: {\n                        rowData: this.targetRowdata.rowData, rowIndex: this.targetRowdata.rowIndex, cellIndex: this.targetRowdata.cellIndex\n                    }\n                }\n                : this.targetColumn ? { element: args.element, item: args.item, event: args.event, column: this.targetColumn }\n                    : { element: args.element, item: args.item, event: args.event };\n            this.parent.trigger(events.contextMenuClick, contextMenuClickArgs);\n        }\n        else {\n            this.parent.trigger(events.contextMenuClick, args);\n        }\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.updateItemStatus();\n        }\n    };\n    ContextMenu.prototype.getLocaleText = function (item) {\n        return this.l10n.getConstant(this.localeText[item]);\n    };\n    ContextMenu.prototype.updateItemStatus = function () {\n        this.contextMenu.showItems(this.hiddenItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hiddenItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var changedRecords = 'changedRecords';\n        var addedRecords = 'addedRecords';\n        var deletedRecords = 'deletedRecords';\n        var closestGrid = closest(args.event.target, '.e-grid');\n        if (args.event && closestGrid && closestGrid !== this.parent.element) {\n            args.cancel = true;\n        }\n        else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader)\n            || closest(args.event.target, '.' + menuClass.touchPop) ||\n            closest(args.event.target, '.e-summarycell') ||\n            closest(args.event.target, '.e-groupcaption') ||\n            closest(args.event.target, '.e-filterbarcell'))) {\n            args.cancel = true;\n        }\n        else {\n            this.targetColumn = this.getColumn(args.event);\n            this.targetRowdata = this.parent.getRowInfo(args.event.target);\n            if ((isNullOrUndefined(args.parentItem)) && this.targetColumn) {\n                if (this.targetRowdata.cell) {\n                    this.selectRow(args.event, (this.targetRowdata.cell.classList.contains('e-selectionbackground')\n                        && this.parent.selectionSettings.type === 'Multiple') ? false : true);\n                }\n            }\n            var hideSepItems = [];\n            var showSepItems = [];\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var key = this.getKeyFromId(item.id);\n                var dItem = this.defaultItems[key];\n                if (this.getDefaultItems().indexOf(key) !== -1) {\n                    if (this.ensureDisabledStatus(key)) {\n                        this.disableItems.push(item.text);\n                    }\n                    if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) ||\n                        this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n                        if (key !== 'Save' && key !== 'Cancel') {\n                            this.hiddenItems.push(item.text);\n                        }\n                    }\n                    else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' &&\n                        ((closest(args.event.target, '.e-gridform')) ||\n                            this.parent.editModule.getBatchChanges()[changedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[addedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n                        continue;\n                    }\n                    else if (isNullOrUndefined(args.parentItem) && args.event\n                        && !this.ensureTarget(args.event.target, dItem.target)) {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (item.target && args.event &&\n                    !this.ensureTarget(args.event.target, item.target)) {\n                    if (item.separator) {\n                        hideSepItems.push(item.id);\n                    }\n                    else {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n                    showSepItems.push(item.id);\n                }\n            }\n            if (showSepItems.length > 0) {\n                this.contextMenu.showItems(showSepItems, true);\n            }\n            this.contextMenu.enableItems(this.disableItems, false);\n            this.contextMenu.hideItems(this.hiddenItems);\n            if (hideSepItems.length > 0) {\n                this.contextMenu.hideItems(hideSepItems, true);\n            }\n            this.eventArgs = args.event;\n            args.column = this.targetColumn;\n            args.rowInfo = this.targetRowdata;\n            this.parent.trigger(events.contextMenuOpen, args);\n            if (args.cancel || (this.hiddenItems.length === args.items.length && !args.parentItem)) {\n                this.updateItemStatus();\n                args.cancel = true;\n            }\n        }\n        applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n    };\n    ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n        var target = targetElement;\n        if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n            target = closest(targetElement, selector === menuClass.header ? 'thead' : 'tbody');\n        }\n        else if (selector === menuClass.content || selector === menuClass.header) {\n            target = parentsUntil(closest(targetElement, '.e-table'), selector.substr(1, selector.length));\n        }\n        else {\n            target = closest(targetElement, selector);\n        }\n        return target && parentsUntil(target, 'e-grid') === this.parent.element;\n    };\n    ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n        return (this.parent.isFrozenGrid() || this.parent.frozenRows)\n            && closest(targetElement, menuClass.header) ? true : false;\n    };\n    ContextMenu.prototype.ensureDisabledStatus = function (item) {\n        var status = false;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit)\n                    || (this.targetColumn && !this.targetColumn.field && item === 'AutoFit');\n                break;\n            case 'Group':\n                if (!this.parent.allowGrouping || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                    && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                break;\n            case 'Ungroup':\n                if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group)\n                    || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                        && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0)) {\n                    status = true;\n                }\n                break;\n            case 'Edit':\n            case 'Delete':\n            case 'Save':\n            case 'Cancel':\n                if (!this.parent.editModule || (this.parent.getDataRows().length === 0)) {\n                    status = true;\n                }\n                break;\n            case 'Copy':\n                if (this.parent.getSelectedRowIndexes().length === 0 ||\n                    this.parent.getCurrentViewRecords().length === 0) {\n                    status = true;\n                }\n                break;\n            case 'export':\n                if ((!this.parent.allowExcelExport || !this.parent.excelExport) ||\n                    !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'PdfExport':\n                if (!(this.parent.allowPdfExport) || !this.parent.ensureModuleInjected(PdfExport)) {\n                    status = true;\n                }\n                break;\n            case 'ExcelExport':\n            case 'CsvExport':\n                if (!(this.parent.allowExcelExport) || !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'SortAscending':\n            case 'SortDescending':\n                if ((!this.parent.allowSorting) || !this.parent.ensureModuleInjected(Sort) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n                    var sortColumns = this.parent.sortSettings.columns;\n                    for (var i = 0; i < sortColumns.length; i++) {\n                        if (sortColumns[i].field === this.targetColumn.field\n                            && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n                            status = true;\n                        }\n                    }\n                }\n                break;\n            case 'FirstPage':\n            case 'PrevPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1)) {\n                    status = true;\n                }\n                break;\n            case 'LastPage':\n            case 'NextPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage())) {\n                    status = true;\n                }\n                break;\n        }\n        return status;\n    };\n    /**\n     * Gets the context menu element from the Grid.\n     * @return {Element}\n     */\n    ContextMenu.prototype.getContextMenu = function () {\n        return this.element;\n    };\n    /**\n     * Destroys the context menu component in the Grid.\n     * @method destroy\n     * @return {void}\n     * @hidden\n     */\n    ContextMenu.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.e-gridheader') && !gridElement.querySelector('.e-gridcontent'))) {\n            return;\n        }\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.parent.element.classList.remove('e-noselect');\n    };\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.gridID + '_cmenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        return id.replace(this.gridID + '_cmenu_', '');\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                menuItem = { target: menuClass.header };\n                break;\n            case 'Group':\n                menuItem = { target: menuClass.header, iconCss: menuClass.group };\n                break;\n            case 'Ungroup':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ungroup };\n                break;\n            case 'Edit':\n                menuItem = { target: menuClass.content, iconCss: menuClass.editIcon };\n                break;\n            case 'Delete':\n                menuItem = { target: menuClass.content, iconCss: menuClass.delete };\n                break;\n            case 'Save':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.save };\n                break;\n            case 'Cancel':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.cancel };\n                break;\n            case 'Copy':\n                menuItem = { target: menuClass.content, iconCss: menuClass.copy };\n                break;\n            case 'export':\n                menuItem = { target: menuClass.content };\n                break;\n            case 'PdfExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.pdf };\n                break;\n            case 'ExcelExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.excel };\n                break;\n            case 'CsvExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.csv };\n                break;\n            case 'SortAscending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ascending };\n                break;\n            case 'SortDescending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.descending };\n                break;\n            case 'FirstPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.fPage };\n                break;\n            case 'PrevPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.pPage };\n                break;\n            case 'LastPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.lPage };\n                break;\n            case 'NextPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.nPage };\n                break;\n        }\n        this.defaultItems[item] = {\n            text: this.getLocaleText(item), id: this.generateID(item),\n            target: menuItem.target, iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n        };\n        return this.defaultItems[item];\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export',\n            'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending',\n            'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n    };\n    ContextMenu.prototype.setLocaleKey = function () {\n        var localeKeys = {\n            'AutoFitAll': 'autoFitAll',\n            'AutoFit': 'autoFit',\n            'Copy': 'Copy',\n            'Group': 'Group',\n            'Ungroup': 'Ungroup',\n            'Edit': 'EditRecord',\n            'Delete': 'DeleteRecord',\n            'Save': 'Save',\n            'Cancel': 'CancelButton',\n            'PdfExport': 'Pdfexport',\n            'ExcelExport': 'Excelexport',\n            'CsvExport': 'Csvexport',\n            'export': 'Export',\n            'SortAscending': 'SortAscending',\n            'SortDescending': 'SortDescending',\n            'FirstPage': 'FirstPage',\n            'LastPage': 'LastPage',\n            'PrevPage': 'PreviousPage',\n            'NextPage': 'NextPage'\n        };\n        if (isBlazor()) {\n            var autoFitAll = 'AutoFitAll';\n            localeKeys[autoFitAll] = 'AutoFitAll';\n            var autoFit = 'AutoFit';\n            localeKeys[autoFit] = 'AutoFit';\n        }\n        return localeKeys;\n    };\n    ContextMenu.prototype.getColumn = function (e) {\n        var cell = closest(e.target, 'th.e-headercell');\n        if (cell) {\n            var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n            return this.parent.getColumnByUid(uid);\n        }\n        else {\n            var ele = (this.parent.getRowInfo(e.target).column);\n            return ele || null;\n        }\n    };\n    ContextMenu.prototype.selectRow = function (e, isSelectable) {\n        this.cell = e.target;\n        this.row = closest(e.target, 'tr.e-row') || this.row;\n        if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n            this.parent.selectRow(parseInt(this.row.getAttribute('aria-rowindex'), 10));\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"]},"metadata":{},"sourceType":"module"}