{"ast":null,"code":"import { isNullOrUndefined, closest, extend, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { InlineEditRender } from './inline-edit-renderer';\nimport { BatchEditRender } from './batch-edit-renderer';\nimport { DialogEditRender } from './dialog-edit-renderer';\nimport { attributes, classList, isBlazor, select } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { getComplexFieldID, getObject, appendChildren, parentsUntil, extendObjWithFn } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * Edit render module is used to render grid edit row.\n * @hidden\n */\n\nvar EditRender =\n/** @class */\nfunction () {\n  /**\n   * Constructor for render module\n   */\n  function EditRender(parent, serviceLocator) {\n    //Internal variables               \n    this.editType = {\n      'Inline': InlineEditRender,\n      'Normal': InlineEditRender,\n      'Batch': BatchEditRender,\n      'Dialog': DialogEditRender\n    };\n    this.parent = parent;\n    this.serviceLocator = serviceLocator;\n    this.renderer = new this.editType[this.parent.editSettings.mode](parent, serviceLocator);\n    this.focus = serviceLocator.getService('focus');\n  }\n\n  EditRender.prototype.addNew = function (args) {\n    this.renderer.addNew(this.getEditElements(args), args);\n    this.convertWidget(args);\n  };\n\n  EditRender.prototype.update = function (args) {\n    this.renderer.update(this.getEditElements(args), args);\n    this.parent.notify(events.beforeStartEdit, args);\n    this.convertWidget(args);\n  };\n\n  EditRender.prototype.convertWidget = function (args) {\n    var gObj = this.parent;\n    var isFocused;\n    var cell;\n    var value;\n    var fForm;\n    var frForm;\n    var frzCols = gObj.isFrozenGrid();\n    var index = gObj.getFrozenMode() === 'Right' && gObj.editSettings.mode === 'Normal' ? 1 : 0;\n    var form = gObj.editSettings.mode === 'Dialog' ? select('#' + gObj.element.id + '_dialogEdit_wrapper .e-gridform', document) : gObj.element.querySelectorAll('.e-gridform')[index];\n\n    if (frzCols && gObj.editSettings.mode === 'Normal') {\n      var rowIndex = parseInt(args.row.getAttribute('aria-rowindex'), 10);\n\n      if (gObj.frozenRows && (args.requestType === 'add' && gObj.editSettings.newRowPosition === 'Top' || rowIndex < gObj.frozenRows)) {\n        fForm = gObj.element.querySelector('.e-movableheader').querySelector('.e-gridform');\n\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n          frForm = args.frozenRightForm;\n        }\n      } else {\n        fForm = gObj.element.querySelector('.e-movablecontent').querySelector('.e-gridform');\n\n        if (this.parent.getFrozenMode() === 'Left-Right') {\n          frForm = args.frozenRightForm;\n        }\n      }\n    }\n\n    var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n      var col = cols_1[_i];\n\n      if (this.parent.editSettings.template && !isNullOrUndefined(col.field)) {\n        var cellArgs = extend({}, args);\n        cellArgs.element = form.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n\n        if (isNullOrUndefined(cellArgs.element) && frzCols) {\n          cellArgs.element = fForm.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n        }\n\n        if (typeof col.edit.write === 'string') {\n          getObject(col.edit.write, window)(cellArgs);\n        } else {\n          col.edit.write(cellArgs);\n        }\n\n        continue;\n      }\n\n      if (this.parent.editModule.checkColumnIsGrouped(col) || col.commands) {\n        continue;\n      }\n\n      value = col.valueAccessor(col.field, args.rowData, col);\n\n      if (col.getFreezeTableName() === 'movable' && gObj.editSettings.mode === 'Normal') {\n        cell = fForm.querySelector('[e-mappinguid=' + col.uid + ']');\n      } else if (frForm && col.getFreezeTableName() === 'frozen-right' && gObj.editSettings.mode === 'Normal') {\n        cell = frForm.querySelector('[e-mappinguid=' + col.uid + ']');\n      } else {\n        cell = form.querySelector('[e-mappinguid=' + col.uid + ']');\n      }\n\n      var temp = col.edit.write;\n\n      if (!isNullOrUndefined(cell)) {\n        if (typeof temp === 'string') {\n          temp = getObject(temp, window);\n          temp({\n            rowData: args.rowData,\n            element: cell,\n            column: col,\n            requestType: args.requestType,\n            row: args.row,\n            foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n          });\n        } else {\n          col.edit.write({\n            rowData: args.rowData,\n            element: cell,\n            column: col,\n            requestType: args.requestType,\n            row: args.row,\n            foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n          });\n        }\n\n        if (!isFocused && !cell.getAttribute('disabled')) {\n          this.focusElement(cell, args.type);\n          isFocused = true;\n        }\n      }\n    }\n\n    if (frzCols && !this.parent.allowTextWrap && (args.requestType === 'add' || args.requestType === 'beginEdit') && this.parent.editSettings.mode !== 'Dialog' && !isNullOrUndefined(form) && !isNullOrUndefined(fForm)) {\n      var mTdElement = fForm.querySelector('tr').children[0];\n      var fTdElement = form.querySelector('tr').children[0];\n\n      if (fTdElement.offsetHeight > mTdElement.offsetHeight) {\n        mTdElement.style.height = fTdElement.offsetHeight + 'px';\n\n        if (frForm) {\n          var frTdElement = fForm.querySelector('tr').children[0];\n          frTdElement.style.height = fTdElement.offsetHeight + 'px';\n        }\n      } else {\n        fTdElement.style.height = mTdElement.offsetHeight + 'px';\n\n        if (frForm) {\n          var frTdElement = fForm.querySelector('tr').children[0];\n          frTdElement.style.height = mTdElement.offsetHeight + 'px';\n        }\n      }\n    }\n  };\n\n  EditRender.prototype.focusElement = function (elem, type) {\n    var chkBox = this.parent.element.querySelector('.e-edit-checkselect');\n\n    if (!isNullOrUndefined(chkBox)) {\n      chkBox.nextElementSibling.classList.add('e-focus');\n    }\n\n    if (this.parent.editSettings.mode === 'Batch') {\n      this.focus.onClick({\n        target: closest(elem, 'td')\n      }, true);\n    } else {\n      var isFocus = this.parent.enableVirtualization && this.parent.editSettings.mode === 'Normal' ? false : true;\n\n      if (isFocus || this.parent.enableVirtualization && this.parent.editSettings.newRowPosition === 'Bottom' && parentsUntil(elem, 'e-addedrow')) {\n        elem.focus();\n      } else {\n        // tslint:disable-next-line:no-any\n        elem.focus({\n          preventScroll: true\n        });\n      }\n    }\n\n    if (elem.classList.contains('e-defaultcell')) {\n      elem.setSelectionRange(elem.value.length, elem.value.length);\n    }\n  };\n\n  EditRender.prototype.getEditElements = function (args) {\n    var _this = this;\n\n    var gObj = this.parent;\n    var elements = {};\n    var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n\n    if (this.parent.editSettings.template) {\n      return {};\n    }\n\n    for (var i = 0, len = cols.length; i < len; i++) {\n      var col = cols[i];\n\n      if (this.parent.editModule.checkColumnIsGrouped(col)) {\n        continue;\n      }\n\n      if (col.commands || col.commandsTemplate) {\n        var cells = void 0;\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var model = new RowModelGenerator(this.parent);\n        var cellRenderer = cellRendererFact.getCellRenderer(CellType.CommandColumn);\n        cells = model.generateRows(args.rowData)[0].cells;\n        var cell = cells.filter(function (cell) {\n          return cell.rowID;\n        });\n        var td = cellRenderer.render(cell[i], args.rowData, {\n          'index': args.row ? args.row.getAttribute('aria-rowindex') : 0\n        });\n        var div = td.firstElementChild;\n        div.setAttribute('textAlign', td.getAttribute('textAlign'));\n        elements[col.uid] = div;\n        continue;\n      }\n\n      var value = col.valueAccessor(col.field, args.rowData, col);\n      var tArgs = {\n        column: col,\n        value: value,\n        type: args.requestType,\n        data: args.rowData\n      };\n      var temp = col.edit.create;\n      var input = void 0;\n\n      if (col.editTemplate) {\n        input = this.parent.createElement('span', {\n          attrs: {\n            'e-mappinguid': col.uid\n          }\n        });\n        var tempID = this.parent.element.id + col.uid + 'editTemplate';\n        var tempData = extendObjWithFn({}, args.rowData, {\n          column: col\n        });\n        var isReactCompiler = this.parent.isReact && typeof col.editTemplate !== 'string';\n\n        if (isReactCompiler) {\n          col.getEditTemplate()(extend({\n            'index': args.rowIndex\n          }, tempData), this.parent, 'editTemplate', tempID, null, null, input);\n          this.parent.renderTemplates();\n        } else {\n          var template = col.getEditTemplate()(extend({\n            'index': args.rowIndex\n          }, tempData), this.parent, 'editTemplate', tempID);\n          appendChildren(input, template);\n        }\n\n        if (isBlazor()) {\n          var setRules = function (ruleColumn) {\n            var column = ruleColumn;\n\n            var func = function () {\n              _this.parent.editModule.formObj.rules[column.field] = column.validationRules;\n            };\n\n            return func;\n          };\n\n          updateBlazorTemplate(tempID, 'EditTemplate', col, true, setRules(col));\n        }\n      } else {\n        if (typeof temp === 'string') {\n          temp = getObject(temp, window);\n          input = temp(tArgs);\n        } else {\n          input = col.edit.create(tArgs);\n        }\n\n        if (typeof input === 'string') {\n          var div = this.parent.createElement('div');\n          div.innerHTML = input;\n          input = div.firstChild;\n        }\n\n        var isInput = input.tagName !== 'input' && input.querySelectorAll('input').length;\n        var complexFieldName = getComplexFieldID(col.field);\n        attributes(isInput ? input.querySelector('input') : input, {\n          name: complexFieldName,\n          'e-mappinguid': col.uid,\n          id: gObj.element.id + complexFieldName\n        });\n        classList(input, ['e-input', 'e-field'], []);\n\n        if (col.textAlign === 'Right') {\n          input.classList.add('e-ralign');\n        }\n\n        if ((col.isPrimaryKey || col.isIdentity) && args.requestType === 'beginEdit' || col.isIdentity && args.requestType === 'add') {\n          // already disabled in cell plugins\n          input.setAttribute('disabled', '');\n        }\n      }\n\n      elements[col.uid] = input;\n    }\n\n    return elements;\n  };\n\n  EditRender.prototype.destroy = function () {\n    this.renderer.removeEventListener();\n  };\n\n  return EditRender;\n}();\n\nexport { EditRender };","map":{"version":3,"sources":["C:/Users/appsk/Documents/Projects/PredictiveMaintenance/React PDM/env/frontend/node_modules/@syncfusion/ej2-grids/src/grid/renderer/edit-renderer.js"],"names":["isNullOrUndefined","closest","extend","updateBlazorTemplate","InlineEditRender","BatchEditRender","DialogEditRender","attributes","classList","isBlazor","select","CellType","RowModelGenerator","getComplexFieldID","getObject","appendChildren","parentsUntil","extendObjWithFn","events","EditRender","parent","serviceLocator","editType","renderer","editSettings","mode","focus","getService","prototype","addNew","args","getEditElements","convertWidget","update","notify","beforeStartEdit","gObj","isFocused","cell","value","fForm","frForm","frzCols","isFrozenGrid","index","getFrozenMode","form","element","id","document","querySelectorAll","rowIndex","parseInt","row","getAttribute","frozenRows","requestType","newRowPosition","querySelector","frozenRightForm","cols","getColumns","getColumnByField","columnName","_i","cols_1","length","col","template","field","cellArgs","edit","write","window","editModule","checkColumnIsGrouped","commands","valueAccessor","rowData","getFreezeTableName","uid","temp","column","foreignKeyData","isForeignColumn","focusElement","type","allowTextWrap","mTdElement","children","fTdElement","offsetHeight","style","height","frTdElement","elem","chkBox","nextElementSibling","add","onClick","target","isFocus","enableVirtualization","preventScroll","contains","setSelectionRange","_this","elements","i","len","commandsTemplate","cells","cellRendererFact","model","cellRenderer","getCellRenderer","CommandColumn","generateRows","filter","rowID","td","render","div","firstElementChild","setAttribute","tArgs","data","create","input","editTemplate","createElement","attrs","tempID","tempData","isReactCompiler","isReact","getEditTemplate","renderTemplates","setRules","ruleColumn","func","formObj","rules","validationRules","innerHTML","firstChild","isInput","tagName","complexFieldName","name","textAlign","isPrimaryKey","isIdentity","destroy","removeEventListener"],"mappings":"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","sourcesContent":["import { isNullOrUndefined, closest, extend, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { InlineEditRender } from './inline-edit-renderer';\nimport { BatchEditRender } from './batch-edit-renderer';\nimport { DialogEditRender } from './dialog-edit-renderer';\nimport { attributes, classList, isBlazor, select } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { getComplexFieldID, getObject, appendChildren, parentsUntil, extendObjWithFn } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * Edit render module is used to render grid edit row.\n * @hidden\n */\nvar EditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     */\n    function EditRender(parent, serviceLocator) {\n        //Internal variables               \n        this.editType = {\n            'Inline': InlineEditRender,\n            'Normal': InlineEditRender, 'Batch': BatchEditRender, 'Dialog': DialogEditRender\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.renderer = new this.editType[this.parent.editSettings.mode](parent, serviceLocator);\n        this.focus = serviceLocator.getService('focus');\n    }\n    EditRender.prototype.addNew = function (args) {\n        this.renderer.addNew(this.getEditElements(args), args);\n        this.convertWidget(args);\n    };\n    EditRender.prototype.update = function (args) {\n        this.renderer.update(this.getEditElements(args), args);\n        this.parent.notify(events.beforeStartEdit, args);\n        this.convertWidget(args);\n    };\n    EditRender.prototype.convertWidget = function (args) {\n        var gObj = this.parent;\n        var isFocused;\n        var cell;\n        var value;\n        var fForm;\n        var frForm;\n        var frzCols = gObj.isFrozenGrid();\n        var index = gObj.getFrozenMode() === 'Right' && gObj.editSettings.mode === 'Normal' ? 1 : 0;\n        var form = gObj.editSettings.mode === 'Dialog' ?\n            select('#' + gObj.element.id + '_dialogEdit_wrapper .e-gridform', document) :\n            gObj.element.querySelectorAll('.e-gridform')[index];\n        if (frzCols && gObj.editSettings.mode === 'Normal') {\n            var rowIndex = parseInt(args.row.getAttribute('aria-rowindex'), 10);\n            if (gObj.frozenRows && ((args.requestType === 'add' && gObj.editSettings.newRowPosition === 'Top')\n                || rowIndex < gObj.frozenRows)) {\n                fForm = gObj.element.querySelector('.e-movableheader').querySelector('.e-gridform');\n                if (this.parent.getFrozenMode() === 'Left-Right') {\n                    frForm = args.frozenRightForm;\n                }\n            }\n            else {\n                fForm = gObj.element.querySelector('.e-movablecontent').querySelector('.e-gridform');\n                if (this.parent.getFrozenMode() === 'Left-Right') {\n                    frForm = args.frozenRightForm;\n                }\n            }\n        }\n        var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n            var col = cols_1[_i];\n            if (this.parent.editSettings.template && !isNullOrUndefined(col.field)) {\n                var cellArgs = extend({}, args);\n                cellArgs.element = form.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n                if (isNullOrUndefined(cellArgs.element) && frzCols) {\n                    cellArgs.element = fForm.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n                }\n                if (typeof col.edit.write === 'string') {\n                    getObject(col.edit.write, window)(cellArgs);\n                }\n                else {\n                    col.edit.write(cellArgs);\n                }\n                continue;\n            }\n            if (this.parent.editModule.checkColumnIsGrouped(col) || col.commands) {\n                continue;\n            }\n            value = (col.valueAccessor(col.field, args.rowData, col));\n            if (col.getFreezeTableName() === 'movable' && gObj.editSettings.mode === 'Normal') {\n                cell = fForm.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            else if (frForm && col.getFreezeTableName() === 'frozen-right' && gObj.editSettings.mode === 'Normal') {\n                cell = frForm.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            else {\n                cell = form.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            var temp = col.edit.write;\n            if (!isNullOrUndefined(cell)) {\n                if (typeof temp === 'string') {\n                    temp = getObject(temp, window);\n                    temp({\n                        rowData: args.rowData, element: cell, column: col, requestType: args.requestType, row: args.row,\n                        foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n                    });\n                }\n                else {\n                    col.edit.write({\n                        rowData: args.rowData, element: cell, column: col, requestType: args.requestType, row: args.row,\n                        foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n                    });\n                }\n                if (!isFocused && !cell.getAttribute('disabled')) {\n                    this.focusElement(cell, args.type);\n                    isFocused = true;\n                }\n            }\n        }\n        if (frzCols && !this.parent.allowTextWrap && ((args.requestType === 'add') || args.requestType === 'beginEdit')\n            && this.parent.editSettings.mode !== 'Dialog' && !isNullOrUndefined(form) && !isNullOrUndefined(fForm)) {\n            var mTdElement = (fForm.querySelector('tr').children[0]);\n            var fTdElement = (form.querySelector('tr').children[0]);\n            if (fTdElement.offsetHeight > mTdElement.offsetHeight) {\n                mTdElement.style.height = fTdElement.offsetHeight + 'px';\n                if (frForm) {\n                    var frTdElement = fForm.querySelector('tr').children[0];\n                    frTdElement.style.height = fTdElement.offsetHeight + 'px';\n                }\n            }\n            else {\n                fTdElement.style.height = mTdElement.offsetHeight + 'px';\n                if (frForm) {\n                    var frTdElement = fForm.querySelector('tr').children[0];\n                    frTdElement.style.height = mTdElement.offsetHeight + 'px';\n                }\n            }\n        }\n    };\n    EditRender.prototype.focusElement = function (elem, type) {\n        var chkBox = this.parent.element.querySelector('.e-edit-checkselect');\n        if (!isNullOrUndefined(chkBox)) {\n            chkBox.nextElementSibling.classList.add('e-focus');\n        }\n        if (this.parent.editSettings.mode === 'Batch') {\n            this.focus.onClick({ target: closest(elem, 'td') }, true);\n        }\n        else {\n            var isFocus = this.parent.enableVirtualization && this.parent.editSettings.mode === 'Normal' ? false : true;\n            if (isFocus || (this.parent.enableVirtualization && this.parent.editSettings.newRowPosition === 'Bottom'\n                && parentsUntil(elem, 'e-addedrow'))) {\n                elem.focus();\n            }\n            else {\n                // tslint:disable-next-line:no-any\n                elem.focus({ preventScroll: true });\n            }\n        }\n        if (elem.classList.contains('e-defaultcell')) {\n            elem.setSelectionRange(elem.value.length, elem.value.length);\n        }\n    };\n    EditRender.prototype.getEditElements = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var elements = {};\n        var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n        if (this.parent.editSettings.template) {\n            return {};\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            var col = cols[i];\n            if (this.parent.editModule.checkColumnIsGrouped(col)) {\n                continue;\n            }\n            if (col.commands || col.commandsTemplate) {\n                var cells = void 0;\n                var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n                var model = new RowModelGenerator(this.parent);\n                var cellRenderer = cellRendererFact.getCellRenderer(CellType.CommandColumn);\n                cells = model.generateRows(args.rowData)[0].cells;\n                var cell = cells.filter(function (cell) { return cell.rowID; });\n                var td = cellRenderer.render(cell[i], args.rowData, { 'index': args.row ? args.row.getAttribute('aria-rowindex') : 0 });\n                var div = td.firstElementChild;\n                div.setAttribute('textAlign', td.getAttribute('textAlign'));\n                elements[col.uid] = div;\n                continue;\n            }\n            var value = (col.valueAccessor(col.field, args.rowData, col));\n            var tArgs = { column: col, value: value, type: args.requestType, data: args.rowData };\n            var temp = col.edit.create;\n            var input = void 0;\n            if (col.editTemplate) {\n                input = this.parent.createElement('span', { attrs: { 'e-mappinguid': col.uid } });\n                var tempID = this.parent.element.id + col.uid + 'editTemplate';\n                var tempData = extendObjWithFn({}, args.rowData, { column: col });\n                var isReactCompiler = this.parent.isReact && typeof (col.editTemplate) !== 'string';\n                if (isReactCompiler) {\n                    col.getEditTemplate()(extend({ 'index': args.rowIndex }, tempData), this.parent, 'editTemplate', tempID, null, null, input);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    var template = col.getEditTemplate()(extend({ 'index': args.rowIndex }, tempData), this.parent, 'editTemplate', tempID);\n                    appendChildren(input, template);\n                }\n                if (isBlazor()) {\n                    var setRules = function (ruleColumn) {\n                        var column = ruleColumn;\n                        var func = function () {\n                            _this.parent.editModule.formObj.rules[column.field] = column.validationRules;\n                        };\n                        return func;\n                    };\n                    updateBlazorTemplate(tempID, 'EditTemplate', col, true, setRules(col));\n                }\n            }\n            else {\n                if (typeof temp === 'string') {\n                    temp = getObject(temp, window);\n                    input = temp(tArgs);\n                }\n                else {\n                    input = col.edit.create(tArgs);\n                }\n                if (typeof input === 'string') {\n                    var div = this.parent.createElement('div');\n                    div.innerHTML = input;\n                    input = div.firstChild;\n                }\n                var isInput = input.tagName !== 'input' && input.querySelectorAll('input').length;\n                var complexFieldName = getComplexFieldID(col.field);\n                attributes(isInput ? input.querySelector('input') : input, {\n                    name: complexFieldName, 'e-mappinguid': col.uid,\n                    id: gObj.element.id + complexFieldName\n                });\n                classList(input, ['e-input', 'e-field'], []);\n                if (col.textAlign === 'Right') {\n                    input.classList.add('e-ralign');\n                }\n                if ((col.isPrimaryKey || col.isIdentity) && args.requestType === 'beginEdit' ||\n                    (col.isIdentity && args.requestType === 'add')) { // already disabled in cell plugins\n                    input.setAttribute('disabled', '');\n                }\n            }\n            elements[col.uid] = input;\n        }\n        return elements;\n    };\n    EditRender.prototype.destroy = function () {\n        this.renderer.removeEventListener();\n    };\n    return EditRender;\n}());\nexport { EditRender };\n"]},"metadata":{},"sourceType":"module"}